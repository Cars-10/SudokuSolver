
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- <meta http-equiv="refresh" content="60"> Removed for smart refresh -->
    <script>
        (function() {
            // Smart Refresh for File Protocol
            // We can't use fetch() on file:// due to CORS.
            // Instead, we poll by injecting a script tag that loads a timestamp.
            
            let initialTimestamp = null;
            
            window.checkTimestamp = function() {
                // This function is called after timestamp.js loads (if we wanted a callback)
                // But timestamp.js just sets window.latestTimestamp
                if (typeof window.latestTimestamp !== 'undefined') {
                    if (initialTimestamp === null) {
                        initialTimestamp = window.latestTimestamp;
                    } else if (window.latestTimestamp !== initialTimestamp) {
                        console.log('File changed, reloading...');
                        window.location.reload();
                    }
                }
            };

            function poll() {
                if (!document.body) return; // Wait for body
                
                const script = document.createElement('script');
                // Add cache buster
                script.src = 'timestamp.js?t=' + Date.now();
                script.onload = () => {
                    window.checkTimestamp();
                    if (document.body.contains(script)) {
                        document.body.removeChild(script); // Clean up
                    }
                };
                script.onerror = () => {
                    // console.warn('Failed to load timestamp.js');
                    if (document.body && document.body.contains(script)) {
                        document.body.removeChild(script);
                    }
                };
                document.body.appendChild(script);
            }
            
            // Initial check - wait for DOM
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', poll);
            } else {
                poll();
            }
            
            // Poll every 2 seconds
            setInterval(poll, 2000);
        })();
    </script>
    <link rel="icon" type="image/png" href="favicon.png">
    <title>Sudoku Benchmark - Neon</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #0d0d12;
            --surface: #16161e;
            --primary: #00ff9d;
            --secondary: #00b8ff;
            --text: #e0e0e0;
            --muted: #5c5c66;
            --border: #2a2a35;
        }
        body {
            font-family: 'JetBrains Mono', monospace;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 40px;
            overflow-x: hidden; /* Hide horizontal scrollbar */
        }
        body.fullscreen-active {
            overflow: hidden; /* Hide all scrollbars in fullscreen */
        }
        h1 {
            text-align: center;
            color: var(--primary);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 40px;
            text-shadow: 0 0 10px rgba(0, 255, 157, 0.3);
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            overflow-x: auto;
        }
        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0 4px;
        }
        th {
            text-align: center;
            padding: 15px;
            color: var(--secondary);
            font-size: 1.1em;
            text-transform: uppercase;
            border-bottom: 2px solid var(--border);
        }
        td {
            background-color: var(--surface);
            padding: 15px;
            border-top: 1px solid var(--border);
            border-bottom: 1px solid var(--border);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        tr:hover td {
            background-color: #1c1c26;
            border-color: var(--secondary);
            transform: scale(1.01);
            box-shadow: 0 0 15px rgba(0, 184, 255, 0.1);
            z-index: 10;
            position: relative;
        }
        td:hover {
            background-color: #252530 !important;
            border: 1px solid var(--primary) !important;
            z-index: 30 !important;
            box-shadow: 0 0 20px rgba(0, 255, 157, 0.3) !important;
        }
        .active-row td {
            background-color: #1c1c26;
            border-color: var(--primary);
            box-shadow: 0 0 20px rgba(0, 255, 157, 0.2);
            z-index: 20;
            position: relative;
            animation: glow 1.5s infinite alternate;
        }
        @keyframes glow {
            from { box-shadow: 0 0 10px rgba(0, 255, 157, 0.1); }
            to { box-shadow: 0 0 20px rgba(0, 255, 157, 0.3); }
        }
        .lang-col {
            font-weight: bold;
            color: var(--primary);
            border-left: 3px solid transparent;
            cursor: pointer;
            text-decoration: underline;
            text-decoration-style: dotted;
            text-decoration-color: var(--secondary);
        }
        .lang-col:hover {
            border-left-color: var(--primary);
        }
        .lang-logo {
            width: 20px;
            height: 20px;
            margin-right: 8px;
            vertical-align: middle;
            object-fit: contain;
        }
        .lang-year {
            font-size: 0.7em;
            color: var(--muted);
            font-weight: normal;
            text-decoration: none;
            margin-top: 2px;
        }
        .active-row .lang-col {
            border-left-color: var(--primary);
        }
        .cell-content {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        .time {
            font-size: 1.1em;
            font-weight: bold;
            color: #fff;
        }
        .meta {
            font-size: 0.75em;
            color: var(--muted);
            display: flex;
            gap: 10px;
        }
        .meta span {
            display: inline-block;
        }
        .total-time {
            font-size: 1.2em;
            color: var(--secondary);
            font-weight: bold;
        }
        .placeholder-row td {
            background-color: #3d0d0d !important;
            border-color: #ff4444;
        }
        .placeholder-row:hover td {
            background-color: #4d1111 !important;
            box-shadow: 0 0 15px rgba(255, 68, 68, 0.2);
        }
        .placeholder-row .lang-col {
            color: #ff4444;
        }
        .suspect td {
            /* border-top: 1px dashed #ffcc00; */
            /* border-bottom: 1px dashed #ffcc00; */
        }
        .suspect .lang-col {
            color: #ffcc00;
        }
        .suspect:hover td {
            box-shadow: 0 0 15px rgba(255, 204, 0, 0.2);
        }
        
        .imposter {
            color: #ff4444;
            font-weight: bold;
            text-decoration: underline;
            text-decoration-style: wavy;
        }
        
        /* Fastest/Slowest Highlights */
        .fastest-row td {
            border-top: 1px solid var(--primary);
            border-bottom: 1px solid var(--primary);
            background: rgba(0, 255, 157, 0.05);
        }
        .fastest-row .lang-col::after {
            content: " üëë";
            font-size: 0.8em;
        }
        .slowest-row td {
            border-top: 1px solid var(--danger);
            border-bottom: 1px solid var(--danger);
            background: rgba(255, 68, 68, 0.05);
        }
        .slowest-row .lang-col::after {
            content: " üê¢";
            font-size: 0.8em;
        }
        
        /* Tooltip */
        #tooltip {
            position: fixed;
            display: none;
            background: rgba(13, 13, 18, 0.95);
            border: 1px solid var(--primary);
            padding: 15px;
            color: var(--primary);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9em;
            max-width: 300px;
            z-index: 1000;
            box-shadow: 0 0 20px rgba(0, 255, 157, 0.2);
            pointer-events: none;
            backdrop-filter: blur(5px);
        }
        #tooltip::before {
            content: ">> SYSTEM MSG";
            display: block;
            font-size: 0.7em;
            color: var(--muted);
            margin-bottom: 5px;
            border-bottom: 1px solid var(--border);
            padding-bottom: 3px;
        }

        /* Controls */
        .controls {
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
            justify-content: flex-start;
            flex-wrap: wrap;
            position: relative;
        }
        .manual-tag, .ai-tag {
            font-size: 0.75em;
            color: var(--muted);
            font-weight: normal;
            margin-left: 4px;
        }
        .filter-active-red {
            background-color: #ff4444 !important;
            color: #fff !important;
            border-color: #ff4444 !important;
            box-shadow: 0 0 10px rgba(255, 68, 68, 0.4);
        }
        .btn-red {
            background: rgba(255, 68, 68, 0.2);
            border-color: #ff4444;
            color: #ff4444;
        }
        .btn-red.active {
            background: #ff4444;
            color: #fff;
            box-shadow: 0 0 10px rgba(255, 68, 68, 0.4);
        }
        .btn {
            background: var(--surface);
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 8px 16px;
            font-family: 'JetBrains Mono', monospace;
            cursor: pointer;
            transition: all 0.2s;
            text-transform: uppercase;
            font-size: 0.8em;
        }
        .btn:hover {
            background: var(--primary);
            color: var(--bg);
            box-shadow: 0 0 10px rgba(0, 255, 157, 0.3);
        }
        .btn.active {
            background: var(--primary);
            color: var(--bg);
        }

        /* Modal */
        .matrix-canvas {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1000;
            pointer-events: none; /* Let clicks pass through initially */
        }
        
        /* Red Pill Slide-In Animation */
        .matrix-slide-enter {
            top: -100vh !important;
            left: 0 !important;
            transition: top 1.5s ease-in-out;
        }
        .matrix-slide-active {
            top: 0 !important;
            left: 0 !important;
        }
        
        /* Content Slide-Out Animation */
        .content-slide-exit {
            transition: transform 1.5s ease-in-out, opacity 1.5s ease-in-out;
        }
        .content-slide-active {
            transform: translateY(100vh);
            opacity: 0.3;
        }

        /* Blue Pill Slide-Down Animation */
        .slide-down-slow {
            animation: slideDown 3s ease-out forwards;
        }
        @keyframes slideDown {
            from { top: -100%; }
            to { top: 0; }
        }
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            backdrop-filter: blur(5px);
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background: var(--surface);
            border: 1px solid var(--primary);
            padding: 30px;
            border-radius: 8px;
            max-width: 500px;
            width: 90%;
            position: relative;
            box-shadow: 0 0 30px rgba(0, 255, 157, 0.2);
            text-align: center;
        }
        .modal-close {
            position: absolute;
            top: 10px;
            right: 15px;
            color: var(--muted);
            cursor: pointer;
            font-size: 1.5em;
        }
        .modal-close:hover {
            color: var(--primary);
        }
        .modal-image {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--primary);
            margin-bottom: 20px;
            box-shadow: 0 0 20px rgba(0, 255, 157, 0.3);
        }
        .modal-title {
            font-size: 2em;
            color: var(--primary);
            margin-bottom: 10px;
        }
        .modal-subtitle {
            font-size: 0.9em;
            color: var(--secondary);
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .modal-desc {
            color: var(--text);
            line-height: 1.6;
            margin-bottom: 20px;
        }
        .lang-col {
            cursor: pointer;
            text-decoration: underline;
            text-decoration-style: dotted;
            text-decoration-color: var(--muted);
        }
        .lang-col:hover {
            color: #fff;
            text-decoration-color: var(--primary);
        }
        
        /* Matrix Sort Buttons */
        .sort-group {
            display: flex;
            gap: 2px;
            margin-top: 5px;
            justify-content: center;
        }
        .sort-btn {
            background: #2a2a35;
            border: none;
            color: #888;
            font-size: 0.7em;
            padding: 2px 6px;
            cursor: pointer;
            border-radius: 3px;
            font-family: 'JetBrains Mono', monospace;
        }
        .sort-btn:hover {
            background: var(--primary);
            color: var(--bg);
        }
        
        /* Rotation for Descending Sort */
        .rotate-180 {
            transform: rotate(180deg);
            display: inline-block;
        }
        .sort-btn, .btn {
            transition: transform 0.3s, background 0.2s, color 0.2s;
        }
        
        .top-bar {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            position: relative;
        }
        .solver-counter {
            font-size: 2.5em;
            font-weight: bold;
            color: var(--primary);
            text-shadow: 0 0 15px rgba(0, 255, 157, 0.4);
            font-family: 'JetBrains Mono', monospace;
            /* Positioned in header now */
        }
        
        /* Fullscreen overlay for solver counter - matches main page header */
        #fullscreen-header {
            display: none;
            position: fixed;
            top: 40px;
            left: 0;
            right: 0;
            z-index: 10000;
            pointer-events: none;
            padding: 0 40px;
        }
        #fullscreen-header .header-counters {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        .mismatch-counter {
            font-size: 1.2em;
            font-weight: bold;
            color: #ff4444;
            text-shadow: 0 0 10px rgba(255, 68, 68, 0.4);
            font-family: 'JetBrains Mono', monospace;
            margin-right: 20px;
        }
        .header-counters {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            z-index: 100;
            background: rgba(13, 13, 18, 0.8);
            padding: 10px 20px;
            border: 1px solid var(--primary);
            border-radius: 4px;
        }
        .personality-intro {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9em;
            color: var(--secondary);
            max-width: 400px;
            text-align: right;
            border-right: 2px solid var(--border);
            padding-right: 20px;
            line-height: 1.4;
            font-style: italic;
        }
        
        /* Score Styling */
        .score-fast {
            color: var(--primary);
            font-weight: bold;
        }
        .score-slow {
            color: var(--danger);
        }
        .total-score {
            font-size: 1.2em;
            font-weight: bold;
            color: var(--primary);
            text-align: right;
        }

        
        /* Toggle Button */
        .toggle-btn {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .toggle-icon {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #333;
            transition: background 0.2s;
        }
        .btn.active .toggle-icon {
            background: var(--primary);
            box-shadow: 0 0 5px var(--primary);
        }
        
        /* Iteration Mismatch Highlight */
        .mismatch-iterations td {
            background-color: rgba(255, 165, 0, 0.3) !important;
        }
        .modal-location, .modal-benefits {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9em;
            color: var(--secondary);
            margin-top: 10px;
            line-height: 1.4;
        }
        .modal-benefits {
            color: var(--primary);
            font-style: italic;
        }
        
        /* Matrix Screensaver */
        #matrix-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10;
            display: none; /* Hidden by default */
            border-radius: 8px;
            pointer-events: none; /* Let clicks pass through if needed, though we hide chart anyway */
        }
        
        #d3-chart-container {
            position: relative;
        }

        /* Vertical Slide Animations */
        @keyframes slideDownEnter {
            from { top: -100vh; }
            to { top: 0; }
        }

        @keyframes slideDownExit {
            from { transform: translateY(0); opacity: 1; }
            to { transform: translateY(100vh); opacity: 0; }
        }

        .slide-down-enter {
            animation: slideDownEnter 1.5s cubic-bezier(0.25, 1, 0.5, 1) forwards;
        }

        .slide-down-exit {
            animation: slideDownExit 1.5s cubic-bezier(0.25, 1, 0.5, 1) forwards;
        }
    </style>
    <style>
        /* Pill UI */
        .pill-container {
            display: flex;
            align-items: center;
        }

        .pill-combined {
            display: flex;
            width: 100px;
            height: 32px;
            border-radius: 16px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(4px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transition: transform 0.2s ease;
        }

        .pill-combined:hover {
            transform: scale(1.05);
        }

        .pill-half {
            flex: 1;
            height: 100%;
            cursor: pointer;
            transition: background 0.2s ease, box-shadow 0.2s ease;
            position: relative;
        }

        .pill-half.blue {
            background: linear-gradient(135deg, rgba(50, 50, 255, 0.4), rgba(0, 0, 180, 0.6));
            box-shadow: inset 2px 2px 4px rgba(255, 255, 255, 0.2);
        }

        .pill-half.blue:hover {
            background: linear-gradient(135deg, rgba(80, 80, 255, 0.6), rgba(20, 20, 200, 0.8));
            box-shadow: inset 2px 2px 6px rgba(255, 255, 255, 0.4);
        }

        .pill-half.red {
            background: linear-gradient(135deg, rgba(255, 50, 50, 0.4), rgba(180, 0, 0, 0.6));
            box-shadow: inset -2px -2px 4px rgba(0, 0, 0, 0.2); /* Subtle shadow on other side */
        }

        .pill-half.red:hover {
            background: linear-gradient(135deg, rgba(255, 80, 80, 0.6), rgba(200, 20, 20, 0.8));
            box-shadow: inset 2px 2px 6px rgba(255, 255, 255, 0.4);
        }

        /* Matrix Screensaver */
        #matrix-canvas {
            position: fixed; /* Changed to fixed for full screen overlay */
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 9999; /* Very high z-index */
            display: none; /* Hidden by default */
            pointer-events: auto; /* Capture clicks to exit */
        }

        /* Animations */
        @keyframes slideDownEnter {
            from { top: -100vh; }
            to { top: 0; }
        }

        @keyframes slideDownExit {
            from { transform: translateY(0); opacity: 1; }
            to { transform: translateY(100vh); opacity: 0; }
        }

        @keyframes slideUpEnter {
            from { transform: translateY(100vh); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .slide-down-enter {
            animation: slideDownEnter 1.5s cubic-bezier(0.25, 1, 0.5, 1) forwards;
        }

        .slide-down-exit {
            animation: slideDownExit 1.5s cubic-bezier(0.25, 1, 0.5, 1) forwards;
        }
        
        .slide-up-enter {
             animation: slideUpEnter 1.0s cubic-bezier(0.25, 1, 0.5, 1) forwards;
        }

        /* Main content wrapper for sliding */
        .content-wrapper {
            transition: transform 1.5s cubic-bezier(0.25, 1, 0.5, 1), opacity 1.5s ease;
        }

        /* Cell Popup Menu */
        .popup-menu {
            display: none;
            position: absolute;
            background: var(--surface);
            border: 1px solid var(--primary);
            box-shadow: 0 0 15px rgba(0, 255, 157, 0.2);
            z-index: 10000;
            min-width: 150px;
            border-radius: 4px;
            padding: 5px 0;
        }
        .popup-item {
            padding: 8px 15px;
            cursor: pointer;
            color: var(--text);
            font-size: 0.9em;
            transition: background 0.2s;
        }
        .popup-item:hover {
            background: rgba(0, 255, 157, 0.1);
            color: var(--primary);
        }
    </style>
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <canvas id="matrix-canvas"></canvas>
    <div id="tooltip"></div>
    
    <!-- Modal -->
    <div id="langModal" class="modal-overlay" onclick="closeModal(event)">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal(event)">&times;</span>
            <img id="modalImg" class="modal-image" src="" alt="Creator">
            <div id="modalTitle" class="modal-title">Language</div>
            <div id="modalSubtitle" class="modal-subtitle">Creator ‚Ä¢ Date</div>
            <div id="modalLocation" class="modal-location">Location</div>
            <div id="modalBenefits" class="modal-benefits">Benefits</div>
            <div id="modalDesc" class="modal-desc">Description goes here.</div>
        </div>
    </div>

    <!-- Methodology Modal -->
    <div id="methodModal" class="modal-overlay" onclick="closeMethodology(event)">
        <div class="modal-content" style="text-align: left;">
            <span class="modal-close" onclick="closeMethodology(event)">&times;</span>
            <div class="modal-title" style="text-align: center;">Scoring Methodology</div>
            <div class="modal-desc">
                <p>The <strong>Composite Score</strong> is a normalized metric designed to compare performance against the C baseline across multiple dimensions.</p>
                
                <h3 style="color: var(--secondary);">The Baseline: C</h3>
                <p>The <strong>C</strong> implementation is the reference standard (1.0) for Time, Memory, and CPU usage.</p>
                
                <h3 style="color: var(--secondary);">The Formula</h3>
                <div style="background: #000; padding: 10px; border-radius: 4px; text-align: center; font-family: monospace; margin: 10px 0; border: 1px solid var(--border);">
                    Score = (3.0 &times; CpuRatio + 2.0 &times; MemRatio + 1.0 &times; TimeRatio) / 6.0
                </div>
                <p style="font-size: 0.9em; text-align: center; color: var(--muted);">
                    Where Ratio = (Solver Value) / (C Value)<br>
                    Weights: CPU (3), Memory (2), Time (1)
                </p>
                
                <h3 style="color: var(--secondary);">Interpretation</h3>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: 8px;"><strong style="color: var(--primary);">1.0</strong> : Parity. Matches C's performance profile.</li>
                    <li style="margin-bottom: 8px;"><strong style="color: #ff0055;">&gt; 1.0</strong> : Less Efficient. Higher resource usage than C.</li>
                    <li style="margin-bottom: 8px;"><strong style="color: #00b8ff;">&lt; 1.0</strong> : More Efficient. Lower resource usage than C.</li>
                </ul>
                <p style="font-size: 0.9em; color: var(--muted); text-align: center; margin-top: 20px;"><em>Lower scores are better.</em></p>
            </div>
        </div>
    </div>

    <!-- Fullscreen header overlay - matches main page header -->
    <div id="fullscreen-header">
        <div class="header-counters">
            <div class="solver-counter">SOLVER 5 OF 5</div>
            <div class="mismatch-counter">MISMATCHES: 1</div>
        </div>
    </div>

    <div id="main-content" class="content-wrapper">
    <h1>Sudoku Benchmark Results</h1>
    
    <div class="header-counters">
        <div class="solver-counter">SOLVER 5 OF 5</div>
        <div id="header-mismatch-count" class="mismatch-counter">MISMATCHES: 1</div>
        <div id="screensaver-pill" style="display: none; font-size: 0.8em; color: var(--secondary); margin-top: 5px; align-self: flex-start;">
            <span style="display: inline-block; width: 8px; height: 8px; background: #00ff9d; border-radius: 50%; margin-right: 5px; box-shadow: 0 0 5px #00ff9d;"></span>
            Screensaver Active
        </div>
    </div>
    
    <div style="width: 95%; margin: 0 auto 40px auto; background: #16161e; padding: 20px; border-radius: 8px; border: 1px solid #2a2a35; height: 500px; position: relative;">
        <div style="position: absolute; top: 10px; right: 20px; z-index: 100; display: flex; gap: 10px;">
            <button class="btn active" id="btn-chart-line" onclick="switchChart('line')">Line Chart</button>
            <button class="btn" id="btn-chart-jockey" onclick="switchChart('jockey')">Jockey Leaderboard</button>
            <div class="pill-container" onclick="event.stopPropagation();">
                <div class="pill-combined">
                    <div class="pill-half blue" title="Take the Blue Pill (Slide Effect)" onclick="event.stopPropagation(); window.startScreensaver('blue')"></div>
                    <div class="pill-half red" title="Take the Red Pill (Instant Matrix)" onclick="event.stopPropagation(); window.startScreensaver('red')"></div>
                </div>
            </div>
        </div>
        <div id="d3-chart-container" style="width: 100%; height: 100%;"></div>

    </div>
    
    <div class="top-bar">
        <!-- Removed solver-counter from here -->
        <div id="personality-intro" class="personality-intro">
            Welcome to the Sudoku Benchmark. Click on any language name for creator details. Use the controls to sort data and analyze performance metrics across different languages.
        </div>
        <div class="controls">
            <input type="text" id="search-input" class="btn" placeholder="Filter Language..." onkeyup="filterLanguages()" style="cursor: text; width: 150px;">
            <select id="personality-selector" class="btn" onchange="changePersonality()">
                <option value="Standard">Standard</option>
                <option value="Neuromancer">Neuromancer</option>
                <option value="The Jockey">The Jockey</option>
                <option value="The Professor">The Professor</option>
                <option value="The Surfer">The Surfer</option>
            </select>
            <button class="btn" onclick="sortRows('lang', this)">Name</button>
            <button class="btn active" onclick="sortRows('time', this)">Time (Fastest)</button>
            <button class="btn" onclick="sortRows('mem', this)">Memory (Highest)</button>
            <button class="btn" onclick="sortRows('iters', this)">Iterations</button>
            <button class="btn" onclick="sortRows('score', this)">Total Score</button>
            <button class="btn" id="toggleMismatchesBtn" onclick="toggleMismatches()">
                <span>Filter Mismatches</span>
            </button>
            <button class="btn" onclick="showMethodology()">Methodology</button>
        </div>
    </div>

    <!-- SVG Filters for Logo Tailoring -->
    <svg style="display: none;">
        <defs>
            <filter id="filter-invert">
                <feColorMatrix in="SourceGraphic" type="matrix" values="-1 0 0 0 1 
                                                                          0 -1 0 0 1 
                                                                          0 0 -1 0 1 
                                                                          0 0 0 1 0"/>
            </filter>
            <filter id="filter-transparent-white">
                <feColorMatrix in="SourceGraphic" type="matrix" values="1 0 0 0 0
                                                                          0 1 0 0 0
                                                                          0 0 1 0 0
                                                                          -1 -1 -1 1 0"/>
            </filter>
        </defs>
    </svg>

    <div class="container">
        <table>
            <thead>
                <tr>
                    <th>
                        Language
                        <div class="sort-group">
                            <button class="sort-btn" onclick="sortRows('lang', this)" title="Sort by Name">N</button>
                            <button class="sort-btn" onclick="sortRows('year', this)" title="Sort by Year">Y</button>
                        </div>
                    </th>
                    <th>
                        Score
                        <div class="sort-group">
                            <button class="sort-btn" onclick="sortRows('score', this)" title="Sort by Score">S</button>
                        </div>
                    </th>
<th>
            Matrix 1
            <div class="sort-group">
                <button class="sort-btn" onclick="sortMatrix(0, 'time', this)" title="Sort by Time">S</button>
                <button class="sort-btn" onclick="sortMatrix(0, 'iters', this)" title="Sort by Iterations">I</button>
                <button class="sort-btn" onclick="sortMatrix(0, 'mem', this)" title="Sort by Memory">M</button>
                <button class="sort-btn" onclick="sortMatrix(0, 'score', this)" title="Sort by Score">Sc</button>
            </div>
        </th><th>
            Matrix 2
            <div class="sort-group">
                <button class="sort-btn" onclick="sortMatrix(1, 'time', this)" title="Sort by Time">S</button>
                <button class="sort-btn" onclick="sortMatrix(1, 'iters', this)" title="Sort by Iterations">I</button>
                <button class="sort-btn" onclick="sortMatrix(1, 'mem', this)" title="Sort by Memory">M</button>
                <button class="sort-btn" onclick="sortMatrix(1, 'score', this)" title="Sort by Score">Sc</button>
            </div>
        </th><th>
            Matrix 3
            <div class="sort-group">
                <button class="sort-btn" onclick="sortMatrix(2, 'time', this)" title="Sort by Time">S</button>
                <button class="sort-btn" onclick="sortMatrix(2, 'iters', this)" title="Sort by Iterations">I</button>
                <button class="sort-btn" onclick="sortMatrix(2, 'mem', this)" title="Sort by Memory">M</button>
                <button class="sort-btn" onclick="sortMatrix(2, 'score', this)" title="Sort by Score">Sc</button>
            </div>
        </th><th>
            Matrix 4
            <div class="sort-group">
                <button class="sort-btn" onclick="sortMatrix(3, 'time', this)" title="Sort by Time">S</button>
                <button class="sort-btn" onclick="sortMatrix(3, 'iters', this)" title="Sort by Iterations">I</button>
                <button class="sort-btn" onclick="sortMatrix(3, 'mem', this)" title="Sort by Memory">M</button>
                <button class="sort-btn" onclick="sortMatrix(3, 'score', this)" title="Sort by Score">Sc</button>
            </div>
        </th><th>
            Matrix 5
            <div class="sort-group">
                <button class="sort-btn" onclick="sortMatrix(4, 'time', this)" title="Sort by Time">S</button>
                <button class="sort-btn" onclick="sortMatrix(4, 'iters', this)" title="Sort by Iterations">I</button>
                <button class="sort-btn" onclick="sortMatrix(4, 'mem', this)" title="Sort by Memory">M</button>
                <button class="sort-btn" onclick="sortMatrix(4, 'score', this)" title="Sort by Score">Sc</button>
            </div>
        </th><th>
        <span>Total Time</span>
        <div class="sort-group">
            <button class="sort-btn" onclick="sortRows('time', this)" title="Sort by Total Time">S</button>
        </div>
    </th>
    </tr></thead><tbody><tr class=" suspect fastest-row " 
            data-lang="C" 
            data-year="1972" 
            data-time="0.004502" 
            data-iters="656" 
            data-mem="1220608" 
            data-score="0.50"
            data-score-breakdown="Time: 1.00x | Mem: 1.00x | CPU: 0.00x"
            data-quote="C: Low-level systems workhorse ‚Äî predictable, efficient, and widely taught." data-history='1972. Dennis Ritchie&apos;s C balanced low-level access with structured programming and portability, shaping decades of systems software. Its influence is evident in modern compilers, runtimes and standards.'  data-m0-time='0.004502' data-m0-iters='656' data-m0-mem='1220608' data-m0-score='1.00' data-m1-time='999999' data-m1-iters='-1' data-m1-mem='-1' data-m1-score='0.00' data-m2-time='999999' data-m2-iters='-1' data-m2-mem='-1' data-m2-score='0.00' data-m3-time='999999' data-m3-iters='-1' data-m3-mem='-1' data-m3-score='0.00' data-m4-time='999999' data-m4-iters='-1' data-m4-mem='-1' data-m4-score='0.00'>
            <td class='lang-col'>
                <img src="CleanedUp/logos/C.png" alt="C" class="lang-logo">
                <div style="display: inline-block; vertical-align: middle;">
                    <div>C<span title="Local Run" style="margin-left:5px; font-size: 0.8em;">üíª</span></div>
                    <div class='lang-year'>1972</div>
                </div>
            </td>
            <td class="score-col">
                <div class="total-score" style="text-align: center; color: var(--primary);">
                    0.50
                </div>
            </td><td class="matrix-cell" data-matrix-index="0">
                    <div class="cell-content">

                        <div class="time" title="Wall Clock Time">0.00450s</div>
                        <div class="meta">
                            <span title="Iterations: 656 vs C: 656" class="">#656</span>
                            <span title="Memory">1.2M</span>
                        </div>
                    </div>
                </td><td class="matrix-cell" data-matrix-index="1"><span style='color: #333'>-</span></td><td class="matrix-cell" data-matrix-index="2"><span style='color: #333'>-</span></td><td class="matrix-cell" data-matrix-index="3"><span style='color: #333'>-</span></td><td class="matrix-cell" data-matrix-index="4"><span style='color: #333'>-</span></td><td class='total-time'><div style='display:flex;flex-direction:column;align-items:flex-end;'><div>0.0045s</div><div style='font-size:0.6em;color:#5c5c66;'>656 iters</div></div></td></tr><tr class=" suspect  " 
            data-lang="C++" 
            data-year="1985" 
            data-time="0.012360" 
            data-iters="656" 
            data-mem="3190784" 
            data-score="1.33"
            data-score-breakdown="Time: 2.75x | Mem: 2.61x | CPU: 0.00x"
            data-quote="C++: High performance with complex abstractions ‚Äî flexible but demanding." data-history='1985. Bjarne Stroustrup extended C with abstractions like classes and templates to enable both low-level control and high-level design. C++ powers performance-critical applications, from game engines to embedded systems.'  data-m0-time='0.01236' data-m0-iters='656' data-m0-mem='3190784' data-m0-score='2.75' data-m1-time='999999' data-m1-iters='-1' data-m1-mem='-1' data-m1-score='0.00' data-m2-time='999999' data-m2-iters='-1' data-m2-mem='-1' data-m2-score='0.00' data-m3-time='999999' data-m3-iters='-1' data-m3-mem='-1' data-m3-score='0.00' data-m4-time='999999' data-m4-iters='-1' data-m4-mem='-1' data-m4-score='0.00'>
            <td class='lang-col'>
                <img src="CleanedUp/logos/C++.png" alt="C++" class="lang-logo">
                <div style="display: inline-block; vertical-align: middle;">
                    <div>C++<span title="Docker Container" style="margin-left:5px; font-size: 0.8em;">üê≥</span></div>
                    <div class='lang-year'>1985</div>
                </div>
            </td>
            <td class="score-col">
                <div class="total-score" style="text-align: center; color: #ff0055;">
                    1.33
                </div>
            </td><td class="matrix-cell" data-matrix-index="0">
                    <div class="cell-content">

                        <div class="time" title="Wall Clock Time">0.01236s</div>
                        <div class="meta">
                            <span title="Iterations: 656 vs C: 656" class="">#656</span>
                            <span title="Memory">3.0M</span>
                        </div>
                    </div>
                </td><td class="matrix-cell" data-matrix-index="1"><span style='color: #333'>-</span></td><td class="matrix-cell" data-matrix-index="2"><span style='color: #333'>-</span></td><td class="matrix-cell" data-matrix-index="3"><span style='color: #333'>-</span></td><td class="matrix-cell" data-matrix-index="4"><span style='color: #333'>-</span></td><td class='total-time'><div style='display:flex;flex-direction:column;align-items:flex-end;'><div>0.0124s</div><div style='font-size:0.6em;color:#5c5c66;'>656 iters</div></div></td></tr><tr class=" suspect  " 
            data-lang="C++" 
            data-year="1985" 
            data-time="0.027673" 
            data-iters="656" 
            data-mem="1310720" 
            data-score="1.38"
            data-score-breakdown="Time: 6.15x | Mem: 1.07x | CPU: 0.00x"
            data-quote="C++: High performance with complex abstractions ‚Äî flexible but demanding." data-history='1985. Bjarne Stroustrup extended C with abstractions like classes and templates to enable both low-level control and high-level design. C++ powers performance-critical applications, from game engines to embedded systems.'  data-m0-time='0.027673' data-m0-iters='656' data-m0-mem='1310720' data-m0-score='6.15' data-m1-time='999999' data-m1-iters='-1' data-m1-mem='-1' data-m1-score='0.00' data-m2-time='999999' data-m2-iters='-1' data-m2-mem='-1' data-m2-score='0.00' data-m3-time='999999' data-m3-iters='-1' data-m3-mem='-1' data-m3-score='0.00' data-m4-time='999999' data-m4-iters='-1' data-m4-mem='-1' data-m4-score='0.00'>
            <td class='lang-col'>
                <img src="CleanedUp/logos/C++.png" alt="C++" class="lang-logo">
                <div style="display: inline-block; vertical-align: middle;">
                    <div>C++<span title="Local Run" style="margin-left:5px; font-size: 0.8em;">üíª</span></div>
                    <div class='lang-year'>1985</div>
                </div>
            </td>
            <td class="score-col">
                <div class="total-score" style="text-align: center; color: #ff0055;">
                    1.38
                </div>
            </td><td class="matrix-cell" data-matrix-index="0">
                    <div class="cell-content">

                        <div class="time" title="Wall Clock Time">0.02767s</div>
                        <div class="meta">
                            <span title="Iterations: 656 vs C: 656" class="">#656</span>
                            <span title="Memory">1.3M</span>
                        </div>
                    </div>
                </td><td class="matrix-cell" data-matrix-index="1"><span style='color: #333'>-</span></td><td class="matrix-cell" data-matrix-index="2"><span style='color: #333'>-</span></td><td class="matrix-cell" data-matrix-index="3"><span style='color: #333'>-</span></td><td class="matrix-cell" data-matrix-index="4"><span style='color: #333'>-</span></td><td class='total-time'><div style='display:flex;flex-direction:column;align-items:flex-end;'><div>0.0277s</div><div style='font-size:0.6em;color:#5c5c66;'>656 iters</div></div></td></tr><tr class=" suspect  " 
            data-lang="Python" 
            data-year="1991" 
            data-time="0.337007" 
            data-iters="656" 
            data-mem="29818880" 
            data-score="20.62"
            data-score-breakdown="Time: 74.86x | Mem: 24.43x | CPU: 0.00x"
            data-quote="Python: Readable, batteries-included, ideal for scripting, data and prototypes." data-history='1991. Guido van Rossum designed Python for readability and productivity; with an enormous ecosystem it excels in scripting, data science, automation and web services.'  data-m0-time='0.337007' data-m0-iters='656' data-m0-mem='29818880' data-m0-score='74.86' data-m1-time='999999' data-m1-iters='-1' data-m1-mem='-1' data-m1-score='0.00' data-m2-time='999999' data-m2-iters='-1' data-m2-mem='-1' data-m2-score='0.00' data-m3-time='999999' data-m3-iters='-1' data-m3-mem='-1' data-m3-score='0.00' data-m4-time='999999' data-m4-iters='-1' data-m4-mem='-1' data-m4-score='0.00'>
            <td class='lang-col'>
                <img src="CleanedUp/logos/Python.png" alt="Python" class="lang-logo">
                <div style="display: inline-block; vertical-align: middle;">
                    <div>Python<span title="Local Run" style="margin-left:5px; font-size: 0.8em;">üíª</span></div>
                    <div class='lang-year'>1991</div>
                </div>
            </td>
            <td class="score-col">
                <div class="total-score" style="text-align: center; color: #ff0055;">
                    20.62
                </div>
            </td><td class="matrix-cell" data-matrix-index="0">
                    <div class="cell-content">

                        <div class="time" title="Wall Clock Time">0.33701s</div>
                        <div class="meta">
                            <span title="Iterations: 656 vs C: 656" class="">#656</span>
                            <span title="Memory">28.4M</span>
                        </div>
                    </div>
                </td><td class="matrix-cell" data-matrix-index="1"><span style='color: #333'>-</span></td><td class="matrix-cell" data-matrix-index="2"><span style='color: #333'>-</span></td><td class="matrix-cell" data-matrix-index="3"><span style='color: #333'>-</span></td><td class="matrix-cell" data-matrix-index="4"><span style='color: #333'>-</span></td><td class='total-time'><div style='display:flex;flex-direction:column;align-items:flex-end;'><div>0.3370s</div><div style='font-size:0.6em;color:#5c5c66;'>656 iters</div></div></td></tr><tr class=" mismatch-iterations  slowest-row" 
            data-lang="Awk" 
            data-year="1977" 
            data-time="1.787415" 
            data-iters="993635" 
            data-mem="1785856" 
            data-score="66.66"
            data-score-breakdown="Time: 397.03x | Mem: 1.46x | CPU: 0.00x"
            data-quote="A mystery wrapped in code." data-history='1977. Created by Aho, Weinberger and Kernighan at Bell Labs as a concise domain language for text processing. Awk remains ideal for quick data extraction and on-the-fly reporting in shell pipelines.'  data-m0-time='0.014227' data-m0-iters='656' data-m0-mem='1769472' data-m0-score='3.16' data-m1-time='0.804362' data-m1-iters='439269' data-m1-mem='1785856' data-m1-score='0.00' data-m2-time='0.209526' data-m2-iters='98847' data-m2-mem='1769472' data-m2-score='0.00' data-m3-time='0.028108' data-m3-iters='9085' data-m3-mem='1769472' data-m3-score='0.00' data-m4-time='0.731192' data-m4-iters='445778' data-m4-mem='1769472' data-m4-score='0.00'>
            <td class='lang-col'>
                <img src="CleanedUp/logos/Awk.png" alt="Awk" class="lang-logo">
                <div style="display: inline-block; vertical-align: middle;">
                    <div>Awk<span title="Local Run" style="margin-left:5px; font-size: 0.8em;">üíª</span></div>
                    <div class='lang-year'>1977</div>
                </div>
            </td>
            <td class="score-col">
                <div class="total-score" style="text-align: center; color: #ff0055;">
                    66.66
                </div>
            </td><td class="matrix-cell" data-matrix-index="0">
                    <div class="cell-content">

                        <div class="time" title="Wall Clock Time">0.01423s</div>
                        <div class="meta">
                            <span title="Iterations: 656 vs C: 656" class="">#656</span>
                            <span title="Memory">1.7M</span>
                        </div>
                    </div>
                </td><td class="matrix-cell" data-matrix-index="1">
                    <div class="cell-content">

                        <div class="time" title="Wall Clock Time">0.80436s</div>
                        <div class="meta">
                            <span title="Iterations: 439269 vs C: 0" class="">#439269</span>
                            <span title="Memory">1.7M</span>
                        </div>
                    </div>
                </td><td class="matrix-cell" data-matrix-index="2">
                    <div class="cell-content">

                        <div class="time" title="Wall Clock Time">0.20953s</div>
                        <div class="meta">
                            <span title="Iterations: 98847 vs C: 0" class="">#98847</span>
                            <span title="Memory">1.7M</span>
                        </div>
                    </div>
                </td><td class="matrix-cell" data-matrix-index="3">
                    <div class="cell-content">

                        <div class="time" title="Wall Clock Time">0.02811s</div>
                        <div class="meta">
                            <span title="Iterations: 9085 vs C: 0" class="">#9085</span>
                            <span title="Memory">1.7M</span>
                        </div>
                    </div>
                </td><td class="matrix-cell" data-matrix-index="4">
                    <div class="cell-content">

                        <div class="time" title="Wall Clock Time">0.73119s</div>
                        <div class="meta">
                            <span title="Iterations: 445778 vs C: 0" class="">#445778</span>
                            <span title="Memory">1.7M</span>
                        </div>
                    </div>
                </td><td class='total-time'><div style='display:flex;flex-direction:column;align-items:flex-end;'><div>1.7874s</div><div style='font-size:0.6em;color:#5c5c66;'>993,635 iters</div></div></td></tr>
        </tbody></table></div>
        <script>
            const personalities = {"Standard":{"C":"C: Low-level systems workhorse ‚Äî predictable, efficient, and widely taught.","C++":"C++: High performance with complex abstractions ‚Äî flexible but demanding.","Rust":"Rust: Modern safety-first systems language with strong compile-time guarantees.","Go":"Go: Pragmatic concurrency and simplicity for cloud services and tools.","Python":"Python: Readable, batteries-included, ideal for scripting, data and prototypes.","JavaScript":"JavaScript: The web's lingua franca ‚Äî ubiquitous, dynamic, and evolving.","TypeScript":"TypeScript: JavaScript with types ‚Äî better tooling and maintainability.","Java":"Java: Proven JVM ecosystem for enterprise systems and large codebases.","C_Sharp":"C#: Mature, well-supported managed language with great IDEs and libraries.","PHP":"PHP: Ubiquitous server-side web language with a vast legacy ecosystem.","Ruby":"Ruby: Expressive and productive, often chosen for developer happiness.","Swift":"Swift: Safe, modern language for Apple platforms and systems programming.","Kotlin":"Kotlin: Concise JVM language with strong Android adoption and null-safety.","Haskell":"Haskell: Pure functional language emphasizing correctness and types.","OCaml":"OCaml: Practical functional language with strong typing and fast native code.","Lisp":"Lisp: Macro-driven, symbolic language family with a long AI heritage.","Clojure":"Clojure: Lisp on the JVM with immutable data structures and concurrency focus.","Erlang":"Erlang: Concurrency and fault tolerance for telecom-grade systems.","Elixir":"Elixir: Friendly syntax on Erlang VM, great for resilient distributed apps.","SQL":"SQL: Declarative language for relational data querying and manipulation.","Fortran":"Fortran: Battle-tested numerical computing language for high-performance math.","Assembly":"Assembly: Maximum control and minimal abstraction ‚Äî used where performance is critical.","Bash":"Bash: Shell scripting glue for automating system tasks and pipelines.","Perl":"Perl: Practical text-processing and scripting toolkit with expressive regexes.","Lua":"Lua: Tiny, embeddable scripting language, beloved by games and embedded systems.","Julia":"Julia: High-performance scientific computing with friendly syntax.","WebAssembly":"WebAssembly: Portable, fast binary target for running multiple languages on the web.","Zig":"Zig: Explicit, simple systems language aiming for predictable performance.","default":"A language with its own strengths and tradeoffs."},"Neuromancer":{"C":"C: Bare metal whispers ‚Äî minimal abstraction, maximum throughput.","C++":"C++: Heavy machinery with countless gears; power hides complexity.","Rust":"Rust: Memory ghosts are exorcised at compile-time; concurrency tamed.","Go":"Go: Channels hum in the background ‚Äî predictable, machine-like rhythm.","Python":"Python: Rapid prototyping ‚Äî a soft, readable veneer over deeper systems.","JavaScript":"JavaScript: Event-driven chaos, patchworked into ubiquity.","TypeScript":"TypeScript: Structured order on top of the web's entropy.","Java":"Java: Industrial runtime with predictable steam-engine reliability.","C_Sharp":"C#: Polished and managed ‚Äî enterprise grade with neat tools.","PHP":"PHP: Resilient, cobbled-together web logic surviving the net's underside.","Ruby":"Ruby: Elegant spells that summon productivity ‚Äî soft and expressive.","Swift":"Swift: Precise and modern ‚Äî tightened for platform harmony.","Kotlin":"Kotlin: Pragmatic JVM sorcery ‚Äî concise incantations with null-safety wards.","Haskell":"Haskell: Pure functions etched in marble ‚Äî correctness as creed.","Erlang":"Erlang: Concurrency as ritual; processes fall and resurrect gracefully.","Elixir":"Elixir: Erlang's resilience dressed in elegant syntax and tooling.","SQL":"SQL: Declarative incantations to coax meaning from tables.","WebAssembly":"WebAssembly: Binary synapses connecting worlds at near-native speed.","default":"A net of languages, each a node with its own signal pattern."},"The Jockey":{"C":"C: The thoroughbred ‚Äî raw speed out of the gate, but demands a skilled rider.","C++":"C++: The heavy-weight contender ‚Äî powerful when tamed, unwieldy when not.","Rust":"Rust: The disciplined challenger ‚Äî steady, precise, and hard to topple.","Go":"Go: The reliable pacer ‚Äî consistent lap times and low fuss.","Python":"Python: The showy performer ‚Äî flashy moves, not always fastest.","JavaScript":"JavaScript: The wildcard ‚Äî unpredictable but always in the race.","TypeScript":"TypeScript: JavaScript with a coach ‚Äî fewer mistakes, cleaner lines.","Java":"Java: The endurance runner ‚Äî long races suit its steady gait.","C_Sharp":"C#: A well-trained athlete with excellent support crew and tooling.","PHP":"PHP: The scrappy veteran ‚Äî keeps going when others fold.","Ruby":"Ruby: A graceful jumper ‚Äî elegant but not built for sprints.","Swift":"Swift: Shortboard specialist ‚Äî quick bursts, smooth turns on Apple turf.","Kotlin":"Kotlin: Agile and modern ‚Äî nimble on the JVM track.","Haskell":"Haskell: A cerebral racer ‚Äî nails the lines with mathematical precision.","Fortran":"Fortran: The old pro ‚Äî still competitive in numerical sprints.","Assembly":"Assembly: Rocket start, tiny margin for error ‚Äî thrilling to watch.","default":"The field is deep; every language brings its own racing style."},"The Professor":{"C":"C: Study of resource efficiency ‚Äî minimal runtime and predictable costs.","C++":"C++: Rich feature set enabling varied programming paradigms; complexity requires discipline.","Rust":"Rust: Demonstrates ownership and type-system-based safety; an instructive modern design.","Go":"Go: Engineered for simplicity and concurrency primitives; pragmatic trade-offs are explicit.","Python":"Python: Excellent for algorithmic experimentation and rapid iteration; runtime overhead considered.","JavaScript":"JavaScript: Flexible semantics that reward careful architecture and testing.","TypeScript":"TypeScript: Type discipline applied to dynamic JavaScript ecosystems; valuable for scale.","Java":"Java: Mature tooling and a stable runtime make it suitable for robust distributed systems.","C_Sharp":"C#: A managed, strongly-typed language with advanced tooling and a rich standard library.","Haskell":"Haskell: A case study in purity and strong types, illuminating functional program design.","OCaml":"OCaml: Efficient functional programming with practical native performance.","Erlang":"Erlang: Model of lightweight concurrency and fault-tolerance architectures.","Elixir":"Elixir: Modern ergonomics on a time-tested concurrency VM; excellent for observable systems.","SQL":"SQL: Declarative optimization relies heavily on the database engine's query planner.","Fortran":"Fortran: Compiler-optimized numeric loops still relevant in HPC benchmarks.","Assembly":"Assembly: Useful in microbenchmarks and bootstrapping but impractical for large systems.","default":"Each language is an experiment in tradeoffs; measure, analyze, and choose appropriately."},"The Surfer":{"C":"C: Totally radical speed ‚Äî like carving a perfect wave at dawn.","C++":"C++: Big energy, epic turns, a little gnarly sometimes.","Rust":"Rust: Clean lines, safe drops ‚Äî no wipeouts from memory bugs.","Go":"Go: Smooth, no fuss paddling ‚Äî steady and dependable.","Python":"Python: Chill and easygoing ‚Äî fun to ride for the crew.","JavaScript":"JavaScript: Wild seas but fun tricks if you know the breaks.","TypeScript":"TypeScript: JS with clearer lines ‚Äî less risky maneuvers.","Java":"Java: Longboard cruising ‚Äî stable and comfortable for long sessions.","Ruby":"Ruby: Playful and elegant, like a retro twin-fin.","PHP":"PHP: Scrappy ‚Äî keeps paddling even in rough surf.","Lua":"Lua: Lightweight, versatile ‚Äî like a compact fishboard for tight spots.","Swift":"Swift: Polished performance on Apple-shaped waves.","Kotlin":"Kotlin: Smooth transitions and modern styling on the JVM lineup.","Haskell":"Haskell: A meditative session ‚Äî slow, precise, rewarding.","Elixir":"Elixir: Reliable lineup and great community vibes for big waves.","WebAssembly":"WebAssembly: Feels like jet propulsion in the water ‚Äî near-native rip.","default":"Catch the wave you like ‚Äî every language has its own stoke."}};
            const languageMetadata = {"Assembly":{"creator":"Kathleen Booth","date":"1947","description":"Low-level symbolic representation of machine code. As close to the metal as you can get.","image":"https://upload.wikimedia.org/wikipedia/commons/f/f6/Kathleen_Booth.jpg","logo":"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f4/Simpleicons_Interface_code-file-1.svg/64px-Simpleicons_Interface_code-file-1.svg.png","location":"Birkbeck College, London","benefits":"Direct hardware control, maximum performance, zero overhead."},"Awk":{"creator":"Aho, Weinberger, Kernighan","date":"1977","description":"A domain-specific language designed for text processing and typically used as a data extraction and reporting tool.","image":"https://upload.wikimedia.org/wikipedia/commons/2/25/Alfred_Aho.jpg","location":"Bell Labs, USA","benefits":"Excellent for text processing, one-liners, and data extraction."},"Bash":{"creator":"Brian Fox","date":"1989","description":"The Bourne Again SHell. The default shell for most Linux distributions and macOS.","image":"https://upload.wikimedia.org/wikipedia/commons/8/82/Gnu-bash-logo.svg","location":"Free Software Foundation, USA","benefits":"Ubiquitous, powerful scripting, direct system interaction."},"Basic":{"creator":"John G. Kemeny, Thomas E. Kurtz","date":"1964","description":"Beginner's All-purpose Symbolic Instruction Code. Designed to emphasize ease of use.","image":"https://upload.wikimedia.org/wikipedia/en/5/52/Kemeny_and_Kurtz.jpg","location":"Dartmouth College, USA","benefits":"Easy to learn, interactive, historical significance."},"C":{"creator":"Dennis Ritchie","date":"1972","description":"General-purpose systems programming language. Excels in operating systems, embedded systems, and performance-critical applications where direct hardware access is essential.","image":"https://upload.wikimedia.org/wikipedia/commons/2/23/Dennis_Ritchie_2011.jpg","logo":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/C_Programming_Language.svg/64px-C_Programming_Language.svg.png","location":"Bell Labs, USA","benefits":"High performance, portability, low-level access, massive legacy."},"C++":{"creator":"Bjarne Stroustrup","date":"1985","description":"Multi-paradigm language combining procedural and object-oriented programming. Excels in game engines, high-performance applications, and systems requiring both low-level control and high-level abstractions.","image":"bjarne_stroustrup.png","logo":"https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/ISO_C%2B%2B_Logo.svg/64px-ISO_C%2B%2B_Logo.svg.png","location":"Bell Labs, USA","benefits":"Performance, object-oriented, rich ecosystem, hardware control."},"C_Sharp":{"creator":"Anders Hejlsberg","date":"2000","description":"A modern, object-oriented, and type-safe programming language derived from C and C++.","image":"https://github.com/ahejlsberg.png","location":"Microsoft, USA","benefits":"Strong typing, rich .NET ecosystem, modern features, tooling."},"Clojure":{"creator":"Rich Hickey","date":"2007","description":"A dynamic, general-purpose programming language, combining the approachability and interactive development of a scripting language with an efficient and robust infrastructure for multithreaded programming.","image":"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/Rich_Hickey_2013.jpg/440px-Rich_Hickey_2013.jpg","location":"USA","benefits":"Immutability, functional programming, JVM interoperability, simplicity."},"Cobol":{"creator":"CODASYL Committee (Grace Hopper)","date":"1959","description":"Common Business-Oriented Language. Designed for business use.","image":"https://upload.wikimedia.org/wikipedia/commons/a/ad/Commodore_Grace_M._Hopper%2C_USN_%28covered%29.jpg","location":"USA","benefits":"Business data processing, stability, massive legacy codebases."},"CoffeeScript":{"creator":"Jeremy Ashkenas","date":"2009","description":"A programming language that compiles to JavaScript. It adds syntactic sugar inspired by Ruby, Python and Haskell.","image":"https://github.com/jashkenas.png","location":"USA","benefits":"Concise syntax, readability, compiles to clean JavaScript."},"CommonLisp":{"creator":"Committee (Guy L. Steele Jr. et al.)","date":"1984","description":"A dialect of the Lisp programming language, published in ANSI Standard X3.226-1994.","image":"https://upload.wikimedia.org/wikipedia/commons/e/e0/Guy_Steele.jpg","location":"USA","benefits":"Macros, dynamic typing, interactive development, flexibility."},"Crystal":{"creator":"Ary Borenszweig","date":"2014","description":"A general-purpose, object-oriented programming language, designed and implemented by Ary Borenszweig, Juan Wajnerman, Brian Cardiff and more than 300 contributors.","image":"https://github.com/asterite.png","location":"Argentina","benefits":"Ruby-like syntax, C-like performance, static typing."},"D":{"creator":"Walter Bright","date":"2001","description":"A general-purpose system programming language with a C-like syntax that compiles to native code.","image":"https://github.com/WalterBright.png","location":"Digital Mars, USA","benefits":"System programming, performance, safety, metaprogramming."},"Dart":{"creator":"Lars Bak, Kasper Lund","date":"2011","description":"A client-optimized language for fast apps on any platform.","image":"https://upload.wikimedia.org/wikipedia/commons/c/c8/Lars_Bak.jpg","location":"Google, Denmark/USA","benefits":"UI optimized, fast compilation, cross-platform (Flutter)."},"Elixir":{"creator":"Jos√© Valim","date":"2011","description":"A dynamic, functional language designed for building scalable and maintainable applications.","image":"https://github.com/josevalim.png","location":"Plataformatec, Brazil","benefits":"Concurrency, fault tolerance, functional, Ruby-like syntax."},"Erlang":{"creator":"Joe Armstrong","date":"1986","description":"A general-purpose, concurrent, functional programming language, and a garbage-collected runtime system.","image":"https://upload.wikimedia.org/wikipedia/commons/c/c7/Joe_Armstrong_2014.jpg","location":"Ericsson, Sweden","benefits":"Massive concurrency, fault tolerance, hot code swapping."},"F_Sharp":{"creator":"Don Syme","date":"2005","description":"A functional-first programming language that encompasses functional, imperative, and object-oriented programming methods.","image":"https://github.com/dsyme.png","location":"Microsoft Research, UK","benefits":"Functional-first, .NET integration, type inference, concise."},"Fortran":{"creator":"John Backus","date":"1957","description":"The first high-level programming language. Still dominates scientific computing.","image":"https://upload.wikimedia.org/wikipedia/commons/b/b8/John_Backus_2.jpg","location":"IBM, USA","benefits":"Numerical computation, scientific computing, performance."},"Go":{"creator":"Robert Griesemer, Rob Pike, Ken Thompson","date":"2009","description":"Compiled, statically-typed language with built-in concurrency. Excels in cloud services, microservices, CLI tools, and networked applications with simple, readable syntax.","image":"https://github.com/robpike.png","logo":"https://upload.wikimedia.org/wikipedia/commons/0/05/Go_Logo_Blue.svg","location":"Google, USA","benefits":"Simplicity, concurrency, fast compilation, static typing."},"Groovy":{"creator":"James Strachan","date":"2003","description":"A Java-syntax-compatible object-oriented programming language for the Java platform.","image":"https://github.com/jstrachan.png","location":"USA","benefits":"Java compatibility, scripting, dynamic features, DSLs."},"Haskell":{"creator":"Committee (Simon Peyton Jones et al.)","date":"1990","description":"A standardized, general-purpose, purely functional programming language with non-strict semantics and strong static typing.","image":"https://upload.wikimedia.org/wikipedia/commons/1/1c/Haskell-Logo.svg","location":"Global","benefits":"Pure functional, type safety, lazy evaluation, concurrency."},"Java":{"creator":"James Gosling","date":"1995","description":"Platform-independent, object-oriented language. Excels in enterprise applications, Android development, and large-scale distributed systems with strong backwards compatibility.","image":"https://upload.wikimedia.org/wikipedia/commons/1/14/James_Gosling_2008.jpg","logo":"https://upload.wikimedia.org/wikipedia/en/thumb/3/30/Java_programming_language_logo.svg/64px-Java_programming_language_logo.svg.png","location":"Sun Microsystems, USA","benefits":"Portability, enterprise ecosystem, performance, stability."},"JavaScript":{"creator":"Brendan Eich","date":"1995","description":"Dynamic, prototype-based scripting language. Excels in web development (front-end and back-end with Node.js), browser automation, and building interactive user interfaces.","image":"https://upload.wikimedia.org/wikipedia/commons/d/d1/Brendan_Eich_Mozilla_Foundation_official_photo.jpg","logo":"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/JavaScript-logo.png/64px-JavaScript-logo.png","location":"Netscape, USA","benefits":"Ubiquity, web interactivity, huge ecosystem, flexibility."},"Julia":{"creator":"Jeff Bezanson, Stefan Karpinski, Viral B. Shah, Alan Edelman","date":"2012","description":"A high-level, high-performance, dynamic programming language for technical computing.","image":"https://github.com/JeffBezanson.png","location":"MIT, USA","benefits":"High performance, numerical computing, ease of use."},"Kotlin":{"creator":"JetBrains","date":"2011","description":"A cross-platform, statically typed, general-purpose programming language with type inference.","image":"https://upload.wikimedia.org/wikipedia/commons/7/74/Kotlin_Icon.png","logo":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/74/Kotlin_Icon.png/64px-Kotlin_Icon.png","location":"Russia/International","benefits":"Concise, null safety, Java interoperability, Android standard."},"Lua":{"creator":"Roberto Ierusalimschy et al.","date":"1993","description":"A lightweight, high-level, multi-paradigm programming language designed primarily for embedded use in applications.","image":"https://upload.wikimedia.org/wikipedia/commons/c/cf/Lua-Logo.svg","location":"PUC-Rio, Brazil","benefits":"Lightweight, embeddable, fast, simple."},"Nim":{"creator":"Andreas Rumpf","date":"2008","description":"A statically typed, compiled systems programming language. It combines successful concepts from mature languages like Python, Ada and Modula.","image":"https://github.com/Araq.png","location":"Germany","benefits":"Performance, expressiveness, metaprogramming, C compilation."},"OCaml":{"creator":"Xavier Leroy et al.","date":"1996","description":"A general-purpose, multi-paradigm programming language which extends the Caml dialect of ML with object-oriented features.","image":"https://github.com/xavierleroy.png","location":"INRIA, France","benefits":"Functional, type safety, performance, industrial strength."},"Octave":{"creator":"John W. Eaton","date":"1988","description":"A high-level language, primarily intended for numerical computations.","image":"https://github.com/jwe.png","location":"USA","benefits":"Numerical computation, MATLAB compatibility, free software."},"Pascal":{"creator":"Niklaus Wirth","date":"1970","description":"An imperative and procedural programming language, designed as a small, efficient language intended to encourage good programming practices.","image":"https://upload.wikimedia.org/wikipedia/commons/b/bd/Pascal_programming_language_logo.svg","location":"ETH Zurich, Switzerland","benefits":"Structured programming, teaching, strong typing."},"Perl":{"creator":"Larry Wall","date":"1987","description":"A family of two high-level, general-purpose, interpreted, dynamic programming languages.","image":"https://github.com/TimToady.png","location":"USA","benefits":"Text processing, scripting, flexibility, CPAN."},"PHP":{"creator":"Rasmus Lerdorf","date":"1995","description":"Originally 'Personal Home Page'. Powers a significant portion of the web (including WordPress).","image":"https://github.com/rlerdorf.png","logo":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/27/PHP-logo.svg/64px-PHP-logo.svg.png","location":"Canada","benefits":"Web development, ease of deployment, vast ecosystem."},"PostScript":{"creator":"John Warnock, Charles Geschke","date":"1982","description":"A page description language in the electronic publishing and desktop publishing business.","image":"https://upload.wikimedia.org/wikipedia/commons/d/d3/John_Warnock.jpg","location":"Adobe, USA","benefits":"Printing, vector graphics, stack-based, device independence."},"PowerShell":{"creator":"Jeffrey Snover","date":"2006","description":"A task automation and configuration management framework from Microsoft.","image":"https://upload.wikimedia.org/wikipedia/commons/2/2f/PowerShell_5.0_icon.png","location":"Microsoft, USA","benefits":"Automation, system administration, object-oriented pipeline."},"Prolog":{"creator":"Alain Colmerauer","date":"1972","description":"A logic programming language associated with artificial intelligence and computational linguistics.","image":"https://upload.wikimedia.org/wikipedia/commons/d/db/Alain_Colmerauer.jpg","location":"University of Aix-Marseille, France","benefits":"Logic programming, AI, pattern matching, declarative."},"Python":{"creator":"Guido van Rossum","date":"1991","description":"High-level, interpreted language emphasizing code readability. Excels in data science, machine learning, web development, automation, and rapid prototyping with extensive library ecosystem.","image":"https://upload.wikimedia.org/wikipedia/commons/e/e2/Guido-portrait-2014-drc.jpg","logo":"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Python-logo-notext.svg/64px-Python-logo-notext.svg.png","location":"CWI, Netherlands","benefits":"Readability, vast libraries, data science, AI."},"R":{"creator":"Ross Ihaka, Robert Gentleman","date":"1993","description":"A programming language and free software environment for statistical computing and graphics.","image":"https://upload.wikimedia.org/wikipedia/commons/1/1b/R_logo.svg","location":"University of Auckland, New Zealand","benefits":"Statistics, data visualization, data analysis."},"Racket":{"creator":"Matthew Flatt","date":"1995","description":"A general-purpose, multi-paradigm programming language based on the Scheme dialect of Lisp.","image":"https://github.com/mflatt.png","location":"Rice University, USA","benefits":"Language creation, education, macros, functional."},"Rexx":{"creator":"Mike Cowlishaw","date":"1979","description":"Restructured Extended Executor. A structured, high-level programming language designed for ease of learning and reading.","image":"https://upload.wikimedia.org/wikipedia/commons/7/77/Mike_Cowlishaw.jpg","location":"IBM, UK","benefits":"Scripting, mainframe automation, ease of use."},"Ruby":{"creator":"Yukihiro Matsumoto","date":"1995","description":"Designed for developer happiness. Famous for the Ruby on Rails framework.","image":"https://github.com/matz.png","logo":"https://upload.wikimedia.org/wikipedia/commons/7/73/Ruby_logo.svg","location":"Japan","benefits":"Developer happiness, web development, scripting, elegance."},"Rust":{"creator":"Graydon Hoare","date":"2010","description":"Systems programming language focused on safety and concurrency. Excels in systems software, WebAssembly, embedded systems, and performance-critical applications without garbage collection.","image":"https://github.com/graydon.png","logo":"https://upload.wikimedia.org/wikipedia/commons/d/d5/Rust_programming_language_black_logo.svg","location":"Mozilla, Canada","benefits":"Memory safety, performance, concurrency, modern tooling."},"Scala":{"creator":"Martin Odersky","date":"2004","description":"A general-purpose programming language providing support for both object-oriented programming and functional programming.","image":"https://github.com/odersky.png","location":"EPFL, Switzerland","benefits":"Functional/OOP blend, JVM, scalability, conciseness."},"Scheme":{"creator":"Guy L. Steele Jr., Gerald Jay Sussman","date":"1975","description":"A minimalist dialect of the Lisp family of programming languages.","image":"https://upload.wikimedia.org/wikipedia/commons/3/39/Lambda_lc.svg","location":"MIT, USA","benefits":"Minimalism, education, functional, macros."},"Sed":{"creator":"Lee E. McMahon","date":"1974","description":"A stream editor for filtering and transforming text.","image":"https://upload.wikimedia.org/wikipedia/en/9/9e/Lee_McMahon.jpg","location":"Bell Labs, USA","benefits":"Stream editing, text transformation, automation."},"Smalltalk":{"creator":"Alan Kay, Dan Ingalls, Adele Goldberg","date":"1972","description":"An object-oriented, dynamically typed reflective programming language.","image":"https://upload.wikimedia.org/wikipedia/commons/4/42/Alan_Kay_2006.jpg","location":"Xerox PARC, USA","benefits":"Pure OOP, live environment, influence on modern GUIs."},"SNOBOL":{"creator":"David J. Farber, Ralph E. Griswold, Ivan P. Polonsky","date":"1962","description":"A series of computer programming languages developed between 1962 and 1967 at AT&T Bell Laboratories.","image":"https://www2.cs.arizona.edu/people/griswold/reg.jpg","location":"Bell Labs, USA","benefits":"String manipulation, pattern matching, historical significance."},"SQL":{"creator":"Donald D. Chamberlin, Raymond F. Boyce","date":"1974","description":"A domain-specific language used in programming and designed for managing data held in a relational database management system.","image":"https://upload.wikimedia.org/wikipedia/commons/8/87/Sql_data_base_with_logo.png","location":"IBM, USA","benefits":"Data management, standard, declarative, powerful queries."},"Swift":{"creator":"Chris Lattner","date":"2014","description":"Apple's replacement for Objective-C. Safe, fast, and expressive.","image":"https://github.com/lattner.png","logo":"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9d/Swift_logo.svg/64px-Swift_logo.svg.png","location":"Apple, USA","benefits":"Safety, speed, modern syntax, Apple ecosystem."},"Tcl":{"creator":"John Ousterhout","date":"1988","description":"Tool Command Language. A dynamic programming language.","image":"https://upload.wikimedia.org/wikipedia/commons/4/41/John_Ousterhout.jpg","location":"UC Berkeley, USA","benefits":"Scripting, GUI (Tk), embedding, simplicity."},"TypeScript":{"creator":"Anders Hejlsberg","date":"2012","description":"A strict syntactical superset of JavaScript and adds optional static typing to the language.","image":"https://github.com/ahejlsberg.png","logo":"https://upload.wikimedia.org/wikipedia/commons/4/4c/Typescript_logo_2020.svg","location":"Microsoft, USA","benefits":"Type safety, scalability, tooling, JavaScript compatibility."},"Vala":{"creator":"J√ºrg Billeter, Rafa≈Ç Pietrak","date":"2006","description":"A programming language that aims to bring modern language features to C developers without the overhead of a runtime environment.","image":"https://github.com/juergbi.png","location":"GNOME Project","benefits":"GObject system, C performance, modern syntax, GNOME dev."},"Verilog":{"creator":"Phil Moorby","date":"1984","description":"A hardware description language (HDL) used to model electronic systems.","image":"https://www.computerhistory.org/atchm/wp-content/uploads/2016/04/moorby-phil-2016-chm-fellow.jpg","location":"Gateway Design Automation, USA","benefits":"Hardware modeling, simulation, synthesis, industry standard."},"VHDL":{"creator":"US Department of Defense","date":"1980","description":"VHSIC Hardware Description Language. A hardware description language used in electronic design automation.","image":"https://upload.wikimedia.org/wikipedia/commons/8/81/VHDL_Logo.svg","location":"USA","benefits":"Hardware description, strong typing, concurrency, standard."},"Vimscript":{"creator":"Bram Moolenaar","date":"1991","description":"The scripting language of the Vim text editor.","image":"https://github.com/brammool.png","location":"Netherlands","benefits":"Editor customization, automation, plugins."},"VisualBasic":{"creator":"Microsoft (Alan Cooper)","date":"1991","description":"A third-generation event-driven programming language from Microsoft for its Component Object Model (COM) programming model.","image":"https://upload.wikimedia.org/wikipedia/commons/4/4f/Alan_Cooper_2010.jpg","logo":"https://upload.wikimedia.org/wikipedia/commons/4/40/VB.NET_Logo.svg","location":"Microsoft, USA","benefits":"RAD, ease of use, Windows integration, legacy support."},"WebAssembly":{"creator":"W3C Community Group","date":"2017","description":"A binary instruction format for a stack-based virtual machine.","image":"https://upload.wikimedia.org/wikipedia/commons/1/1f/WebAssembly_Logo.svg","location":"Global","benefits":"Performance, portability, language agnostic, web standard."},"Jq":{"creator":"Stephen Dolan","date":"2012","description":"A lightweight and flexible command-line JSON processor.","image":"https://upload.wikimedia.org/wikipedia/commons/f/f3/JSON_vector_logo.svg","location":"USA","benefits":"JSON processing, functional, filter-based."},"Make":{"creator":"Stuart Feldman","date":"1976","description":"A build automation tool that automatically builds executable programs and libraries from source code.","image":"https://upload.wikimedia.org/wikipedia/commons/a/a9/Stuart_Feldman_2007_retouched.jpg","location":"Bell Labs, USA","benefits":"Dependency management, build automation."},"Gnuplot":{"creator":"Thomas Williams, Colin Kelley","date":"1986","description":"A command-line program that can generate two- and three-dimensional plots of functions, data, and data fits.","image":"https://upload.wikimedia.org/wikipedia/commons/3/3d/Gnuplot_logo.svg","location":"USA","benefits":"Plotting, data visualization, scripting."},"XSLT":{"creator":"W3C","date":"1998","description":"A language for transforming XML documents into other XML documents.","image":"https://upload.wikimedia.org/wikipedia/commons/9/9d/Xml_logo.svg","location":"Worldwide","benefits":"XML transformation, functional, template-based."},"Zsh":{"creator":"Paul Falstad","date":"1990","description":"A Unix shell that can be used as an interactive login shell and as a command interpreter for shell scripting.","image":"https://upload.wikimedia.org/wikipedia/commons/a/a8/Zsh_logo.svg","location":"Princeton University, USA","benefits":"Interactive shell, scripting, plugin ecosystem."},"AppleScript":{"creator":"Apple Inc.","date":"1993","description":"A scripting language created by Apple Inc. that facilitates automated control over scriptable Mac applications.","image":"https://upload.wikimedia.org/wikipedia/commons/thumb/2/21/AppleScript_Logo.png/440px-AppleScript_Logo.png","location":"Apple, USA","benefits":"Automation, inter-application communication, English-like syntax."},"Expect":{"creator":"Don Libes","date":"1990","description":"A program to automate interactions with programs that expose a text terminal interface.","image":"https://www.oreilly.com/covers/urn:orm:book:9781565920903/400w/","location":"NIST, USA","benefits":"Automation, testing, interactive scripting."},"SQLite":{"creator":"D. Richard Hipp","date":"2000","description":"A C-language library that implements a small, fast, self-contained, high-reliability, full-featured, SQL database engine.","image":"https://upload.wikimedia.org/wikipedia/commons/3/38/SQLite370.svg","location":"USA","benefits":"Serverless, zero-configuration, transactional SQL."},"Tcsh":{"creator":"Ken Greer","date":"1975","description":"An enhanced but completely compatible version of the Berkeley UNIX C shell (csh).","image":"https://www.oreilly.com/covers/urn:orm:book:9781449377526/160h/?format=webp","location":"Carnegie Mellon University, USA","benefits":"Interactive shell, command completion, history."},"Ksh":{"creator":"David Korn","date":"1983","description":"A Unix shell which was developed by David Korn at Bell Labs in the early 1980s.","image":"https://www.facesofopensource.com/wp-content/uploads/2015/09/david-korn-1.jpg","location":"Bell Labs, USA","benefits":"Scripting, interactive use, backward compatibility."},"Dash":{"creator":"Herbert Xu","date":"1997","description":"A POSIX-compliant implementation of /bin/sh that aims to be as small as possible.","image":"https://upload.wikimedia.org/wikipedia/commons/6/66/Openlogo-debianV2.svg","location":"Australia","benefits":"Speed, POSIX compliance, minimal footprint."},"Fish":{"creator":"Axel Liljencrantz","date":"2005","description":"A smart and user-friendly command line shell for macOS, Linux, and the rest of the family.","image":"https://upload.wikimedia.org/wikipedia/commons/a/a6/Fish_shell_logo_ascii.svg","location":"Sweden","benefits":"Autosuggestions, web-based configuration, clean syntax."},"Bc":{"creator":"Robert Morris, Lorinda Cherry","date":"1975","description":"An arbitrary-precision calculator language.","image":"https://upload.wikimedia.org/wikipedia/en/b/b9/Photo_of_Lorinda_Cherry.jpg","location":"Bell Labs, USA","benefits":"Arbitrary precision, math scripting."},"Dc":{"creator":"Robert Morris, Lorinda Cherry","date":"1970","description":"A reverse-Polish notation (RPN) calculator that operates on arbitrary-precision integers.","image":"https://upload.wikimedia.org/wikipedia/en/b/b9/Photo_of_Lorinda_Cherry.jpg","location":"Bell Labs, USA","benefits":"RPN, arbitrary precision, stack-based."},"EmacsLisp":{"creator":"Richard Stallman","date":"1985","description":"A dialect of the Lisp programming language used as a scripting language for GNU Emacs.","image":"https://upload.wikimedia.org/wikipedia/commons/0/08/EmacsIcon.svg","location":"MIT, USA","benefits":"Editor customization, extensibility, live coding."},"Forth":{"creator":"Charles H. Moore","date":"1970","description":"A stack-oriented, concatenative, procedural, and reflective programming language.","image":"https://upload.wikimedia.org/wikipedia/commons/c/c1/Forth_logo.svg","location":"NRAO, USA","benefits":"Compactness, hardware control, interactivity."},"Haxe":{"creator":"Nicolas Cannasse","date":"2005","description":"A high-level cross-platform language that compiles to many other languages.","image":"https://upload.wikimedia.org/wikipedia/commons/2/28/Haxe_logo.svg","location":"France","benefits":"Cross-platform, strong typing, single codebase."},"Jupyter":{"creator":"Fernando P√©rez et al.","date":"2014","description":"An open-source project that supports interactive data science and scientific computing.","image":"https://upload.wikimedia.org/wikipedia/commons/3/38/Jupyter_logo.svg","location":"Global","benefits":"Interactive computing, data visualization, education."},"M4":{"creator":"Brian Kernighan, Dennis Ritchie","date":"1977","description":"A general-purpose macro processor.","image":"https://upload.wikimedia.org/wikipedia/commons/5/5f/Brian_Kernighan_at_VCF_East_2.jpg","location":"Bell Labs, USA","benefits":"Macro expansion, text processing, configuration."},"Objective-C":{"creator":"Brad Cox, Tom Love","date":"1984","description":"A general-purpose, object-oriented programming language that adds Smalltalk-style messaging to C.","image":"https://m.media-amazon.com/images/I/51+H6XVgf3L.jpg","location":"Stepstone, USA","benefits":"Dynamic runtime, C compatibility, Apple legacy."},"Raku":{"creator":"Larry Wall","date":"2015","description":"A member of the Perl family. Expressive, multi-paradigm, and versatile.","image":"https://upload.wikimedia.org/wikipedia/commons/1/1a/Raku_logo.svg","location":"Global","benefits":"Expressiveness, grammars, concurrency."},"V":{"creator":"Alexander Medvednikov","date":"2019","description":"A statically typed, compiled language designed for maintainability and speed.","image":"https://upload.wikimedia.org/wikipedia/commons/f/f2/V-logo.svg","location":"Global","benefits":"Fast compilation, simplicity, safety."},"Zig":{"creator":"Andrew Kelley","date":"2016","description":"A general-purpose programming language and toolchain for maintaining robust, optimal, and reusable software.","image":"https://upload.wikimedia.org/wikipedia/commons/5/51/Zig_logo.svg","location":"USA","benefits":"No hidden control flow, manual memory management, comptime."},"BASH":{"creator":"Brian Fox","date":"1989","description":"The Bourne Again SHell. The default shell for most Linux distributions and macOS.","image":"https://upload.wikimedia.org/wikipedia/commons/8/82/Gnu-bash-logo.svg","location":"Free Software Foundation, USA","benefits":"Ubiquitous, powerful scripting, direct system interaction."},"BASIC":{"creator":"John G. Kemeny, Thomas E. Kurtz","date":"1964","description":"Beginner's All-purpose Symbolic Instruction Code. Designed to emphasize ease of use.","image":"https://upload.wikimedia.org/wikipedia/en/thumb/5/52/Kemeny_and_Kurtz.jpg/300px-Kemeny_and_Kurtz.jpg","logo":"https://upload.wikimedia.org/wikipedia/commons/2/2e/True_BASIC_logo.svg","location":"Dartmouth College, USA","benefits":"Easy to learn, interactive, historical significance."}};
            const methodologyTexts = {"Standard":"\n        <p>The <strong>Total Score</strong> is a composite metric designed to compare overall efficiency against the C baseline.</p>\n        <h3 style=\"color: var(--secondary);\">The Baseline: C</h3>\n        <p>The <strong>C</strong> implementation is the reference standard (1.0) for Time, Memory, and CPU usage.</p>\n        <h3 style=\"color: var(--secondary);\">The Formula</h3>\n        <div style=\"background: #000; padding: 10px; border-radius: 4px; text-align: center; font-family: monospace; margin: 10px 0; border: 1px solid var(--border);\">\n            Score = (TimeRatio + MemRatio + CpuRatio) / 3\n        </div>\n        <p>Where:</p>\n        <ul style=\"font-size: 0.9em; color: var(--text);\">\n            <li><strong>TimeRatio</strong> = Wall Clock Time / C Time</li>\n            <li><strong>MemRatio</strong> = Peak Memory (RSS) / C Memory</li>\n            <li><strong>CpuRatio</strong> = Total CPU Time (User+Sys) / C CPU Time</li>\n        </ul>\n        <h3 style=\"color: var(--secondary);\">Interpretation</h3>\n        <ul style=\"list-style: none; padding: 0;\">\n            <li style=\"margin-bottom: 8px;\"><strong style=\"color: var(--primary);\">1.0</strong> : Parity with C.</li>\n            <li style=\"margin-bottom: 8px;\"><strong style=\"color: #ff0055;\">&gt; 1.0</strong> : Less Efficient.</li>\n            <li style=\"margin-bottom: 8px;\"><strong style=\"color: #00b8ff;\">&lt; 1.0</strong> : More Efficient.</li>\n        </ul>\n        <p style=\"font-size: 0.9em; color: var(--muted); text-align: center; margin-top: 20px;\"><em>Lower scores are better.</em></p>\n    ","Neuromancer":"\n        <p>The construct uses a composite index. Time, Memory, CPU. Three vectors, one score.</p>\n        <h3 style=\"color: var(--secondary);\">Target: C</h3>\n        <p><strong>C</strong> is the flatline (1.0). Deviate at your own risk.</p>\n        <div style=\"background: #000; padding: 10px; border-radius: 4px; text-align: center; font-family: monospace; margin: 10px 0; border: 1px solid var(--border);\">\n            Score = AVG(Time_R, Mem_R, CPU_R)\n        </div>\n        <p>Bloated memory? You burn. High CPU? You burn. Slow? You definitely burn.</p>\n    ","The Jockey":"\n        <p>It's a triathlon now, folks! Speed, Stamina (Memory), and Effort (CPU)!</p>\n        <h3 style=\"color: var(--secondary);\">The Pace Car: C</h3>\n        <p><strong>C</strong> runs the perfect line at 1.0.</p>\n        <div style=\"background: #000; padding: 10px; border-radius: 4px; text-align: center; font-family: monospace; margin: 10px 0; border: 1px solid var(--border);\">\n            Score = Average of Time, Mem, and CPU vs C\n        </div>\n        <p>You gotta be fast AND light to win this cup!</p>\n    ","The Professor":"\n        <p>The scoring methodology now employs a multivariate analysis. We evaluate Time, Resident Set Size, and CPU Time.</p>\n        <h3 style=\"color: var(--secondary);\">Control: C</h3>\n        <p><strong>C</strong> (1.0) remains the baseline for all three dimensions.</p>\n        <div style=\"background: #000; padding: 10px; border-radius: 4px; text-align: center; font-family: monospace; margin: 10px 0; border: 1px solid var(--border);\">\n            Score = &Sigma;(Ratios) / 3\n        </div>\n        <p>This penalizes memory-managed languages that trade RAM for development speed.</p>\n    ","The Surfer":"\n        <p>It's not just about speed, bro. It's about flow. Time, Memory, CPU. The whole vibe.</p>\n        <h3 style=\"color: var(--secondary);\">The Big Kahuna: C</h3>\n        <p><strong>C</strong> is the perfect wave (1.0).</p>\n        <div style=\"background: #000; padding: 10px; border-radius: 4px; text-align: center; font-family: monospace; margin: 10px 0; border: 1px solid var(--border);\">\n            Score = (Time + Mem + CPU) / 3 ... vs C\n        </div>\n        <p>Don't be heavy, don't be slow. Just flow.</p>\n    "};
            
            let currentSort = { metric: 'time', dir: 1 }; // 1 = Asc, -1 = Desc

            // Search Logic
            function filterLanguages() {
                const input = document.getElementById('search-input');
                const filter = input.value.toUpperCase();
                const tbody = document.querySelector('tbody');
                const rows = tbody.getElementsByTagName('tr');

                for (let i = 0; i < rows.length; i++) {
                    const row = rows[i];
                    const lang = row.getAttribute('data-lang');
                    if (lang) {
                        if (lang.toUpperCase().indexOf(filter) > -1) {
                            row.style.display = "";
                        } else {
                            row.style.display = "none";
                        }
                    }
                }
            }

            // Sorting Logic
            function sortRows(metric, btn) {
                const tbody = document.querySelector('tbody');
                const rows = Array.from(tbody.querySelectorAll('tr'));
                
                // Toggle direction
                if (currentSort.metric === metric) {
                    currentSort.dir *= -1;
                } else {
                    currentSort.metric = metric;
                    currentSort.dir = 1;
                }
                
                // Update buttons
                document.querySelectorAll('.btn, .sort-btn').forEach(b => {
                    b.classList.remove('active');
                    b.classList.remove('rotate-180');
                });
                
                if (btn) {
                    btn.classList.add('active');
                    if (currentSort.dir === -1) {
                        btn.classList.add('rotate-180');
                    }
                }

                rows.sort((a, b) => {
                    const aVal = a.getAttribute('data-' + metric);
                    const bVal = b.getAttribute('data-' + metric);
                    
                    if (metric === 'lang') {
                        return aVal.localeCompare(bVal) * currentSort.dir;
                    } else if (metric === 'year') {
                        return (parseInt(aVal) - parseInt(bVal)) * currentSort.dir;
                    } else {
                        return (parseFloat(aVal) - parseFloat(bVal)) * currentSort.dir;
                    }
                });

                rows.forEach(row => tbody.appendChild(row));
            }
            
            function sortMatrix(index, metric, btn) {
                const tbody = document.querySelector('tbody');
                const rows = Array.from(tbody.querySelectorAll('tr'));
                const attr = 'data-m' + index + '-' + metric;
                const fullMetric = 'm' + index + '_' + metric;
                
                if (currentSort.metric === fullMetric) {
                    currentSort.dir *= -1;
                } else {
                    currentSort.metric = fullMetric;
                    currentSort.dir = metric === 'time' || metric === 'score' ? 1 : -1;
                }

                // Update buttons
                document.querySelectorAll('.btn, .sort-btn').forEach(b => {
                    b.classList.remove('active');
                    b.classList.remove('rotate-180');
                });
                
                if (btn) {
                    btn.classList.add('active');
                    if (currentSort.dir === -1) {
                        btn.classList.add('rotate-180');
                    }
                }

                rows.sort((a, b) => {
                    const aVal = parseFloat(a.getAttribute(attr));
                    const bVal = parseFloat(b.getAttribute(attr));
                    return (aVal - bVal) * currentSort.dir;
                });

                rows.forEach(row => tbody.appendChild(row));
            }
            
            // Mismatch Filter
            function toggleMismatches() {
                const btn = document.getElementById('toggleMismatchesBtn');
                const isFilterActive = btn.classList.toggle('active');

                if (isFilterActive) {
                    btn.classList.add('filter-active-red');
                    btn.querySelector('span').textContent = "Show All";
                } else {
                    btn.classList.remove('filter-active-red');
                    btn.querySelector('span').textContent = "Filter Mismatches";
                }

                const rows = document.querySelectorAll('tbody tr');
                rows.forEach(row => {
                    if (isFilterActive) {
                        if (row.classList.contains('mismatch-iterations')) {
                            row.style.display = 'none';
                        } else {
                            row.style.display = '';
                        }
                    } else {
                        row.style.display = '';
                    }
                });
            }

            // Personality Selector
            function changePersonality() {
                const selector = document.getElementById('personality-selector');
                const persona = selector.value;
                const intro = document.getElementById('personality-intro');
                
                // Update Intro Text
                if (persona === "Neuromancer") intro.innerText = "The sky above the port was the color of television, tuned to a dead channel.";
                else if (persona === "The Jockey") intro.innerText = "And they're off! The race is on!";
                else if (persona === "The Professor") intro.innerText = "Let us analyze the computational complexity.";
                else if (persona === "The Surfer") intro.innerText = "Catch the wave of data, dude.";
                else intro.innerText = "Welcome to the Sudoku Benchmark. Click on any language name for creator details.";

                // Update Tooltips
                const rows = document.querySelectorAll('tbody tr');
                rows.forEach(row => {
                    const lang = row.getAttribute('data-lang');
                    const quotes = personalities[persona] || personalities['Standard'];
                    let quote = quotes[lang] || quotes['default'] || "Unknown.";
                    
                    // Append Efficiency
                    const score = row.getAttribute('data-score');
                    quote += " Efficiency: " + parseFloat(score).toFixed(2) + " MB/s";
                    
                    row.setAttribute('data-quote', quote);
                });
                // Update Methodology Modal
                const methodDesc = document.querySelector('#methodModal .modal-desc');
                if (methodDesc) {
                    methodDesc.innerHTML = methodologyTexts[persona] || methodologyTexts['Standard'];
                }

            }

            // Tooltip Logic
            const tooltip = document.getElementById('tooltip');
            
            // Attach to all cells
            // Attach to all cells
            // Attach to all cells
            
            document.querySelectorAll('tbody td').forEach(cell => {
                cell.addEventListener('mousemove', (e) => {
                    const row = cell.parentElement;
                    const lang = row.getAttribute('data-lang');
                    
                    let content = "";
                    
                    if (cell.classList.contains('lang-col')) {
                        // Language Cell -> Show History
                        const history = row.getAttribute('data-history');
                        if (history) {
                            content = '<strong style="color: var(--primary)">' + lang + '</strong><br>' +
                                '<div style="max-width: 250px; white-space: normal; margin-top: 5px;">' + history + '</div>';
                        }
                    } else if (cell.classList.contains('matrix-cell')) {
                        // Matrix Cell -> Detailed Metrics
                        const matrixIdx = parseInt(cell.getAttribute('data-matrix-index'));
                        const time = row.getAttribute('data-m' + matrixIdx + '-time');
                        const iters = row.getAttribute('data-m' + matrixIdx + '-iters');
                        const mem = row.getAttribute('data-m' + matrixIdx + '-mem');
                        const score = row.getAttribute('data-m' + matrixIdx + '-score');
                        
                        if (time && time !== '999999') {
                            const memMb = (parseFloat(mem) / 1024 / 1024).toFixed(1);
                            content = '<strong style="color: var(--primary)">Matrix ' + (matrixIdx + 1) + '</strong><br>' +
                                '<span style="color: var(--secondary)">' + lang + '</span><br>' +
                                '<hr style="border: 0; border-bottom: 1px solid var(--border); margin: 5px 0;">' +
                                'Time: <span style="color: #fff">' + parseFloat(time).toFixed(5) + 's</span><br>' +
                                'Score: <span style="color: ' + (parseFloat(score) <= 1 ? 'var(--primary)' : '#ff0055') + '">' + score + 'x</span><br>' +
                                'Iters: ' + parseInt(iters).toLocaleString() + '<br>' +
                                'Mem: ' + memMb + ' MB';
                        } else {
                            content = row.getAttribute('data-quote');
                        }
                    } else if (cell.classList.contains('score-col')) {
                        // Score Cell -> Show Breakdown + Quote
                        const breakdown = row.getAttribute('data-score-breakdown');
                        const quote = row.getAttribute('data-quote');
                        content = '<strong style="color: var(--primary)">Composite Score</strong><br>' +
                                  '<span style="font-size: 0.8em; color: var(--secondary)">' + breakdown + '</span><br>' +
                                  '<hr style="border: 0; border-bottom: 1px solid var(--border); margin: 5px 0;">' +
                                  quote;
                    }

                    if (content) {
                        const tooltip = document.getElementById('tooltip');
                        tooltip.style.display = 'block';
                        tooltip.style.left = (e.clientX + 15) + 'px';
                        tooltip.style.top = (e.clientY + 15) + 'px';
                        tooltip.innerHTML = content;
                    }
                });
                
                cell.addEventListener('mouseleave', () => {
                    const tooltip = document.getElementById('tooltip');
                    tooltip.style.display = 'none';
                });
            });
            
            // Add click handler to language cells to show modal
            document.querySelectorAll('.lang-col').forEach(cell => {
                cell.addEventListener('click', () => {
                    const row = cell.parentElement;
                    const lang = row.getAttribute('data-lang');
                    if (lang) {
                        showLanguageDetails(lang);
                    }
                });
                cell.style.cursor = 'pointer';  // Make it obvious it's clickable
            });
            // Modal Logic
            function showLanguageDetails(lang) {
                const modal = document.getElementById('langModal');
                const meta = languageMetadata[lang];
                if (!meta) return;

                document.getElementById('modalImg').src = meta.image;
                const displayName = lang === "C_Sharp" ? "C#" : (lang === "F_Sharp" ? "F#" : lang);
                document.getElementById('modalTitle').innerText = displayName;
                document.getElementById('modalSubtitle').innerText = meta.creator + " ‚Ä¢ " + meta.date;
                document.getElementById('modalLocation').innerText = "üìç " + (meta.location || "Unknown Location");
                document.getElementById('modalBenefits').innerText = "‚ú® " + (meta.benefits || "Unknown Benefits");
                document.getElementById('modalDesc').innerText = meta.description;
                
                modal.style.display = 'flex';
            }

            function closeModal(event) {
                if (event.target.id === 'langModal' || event.target.classList.contains('modal-close')) {
                    document.getElementById('langModal').style.display = 'none';
                }
            }

            function showMethodology() {
                document.getElementById('methodModal').style.display = 'flex';
            }

            function closeMethodology(event) {
                if (event.target.id === 'methodModal' || event.target.classList.contains('modal-close')) {
                    document.getElementById('methodModal').style.display = 'none';
                }
            }

            // Initialize
            toggleMismatches(); // Default hide
            
            // --- D3.js Chart Implementation ---
            (function() {
                // Inject metrics with logo data
                const historyData = [];
                const referenceOutputs = {};
                const tailoring = {"Awk":{"invert":true},"C":{"transparent_white":true}};
                const metricsData = [{"solver":"Python","timestamp":"2025-12-04T14:01:19.776Z","results":[{"matrix":"1.matrix","time":0.337007,"iterations":656,"memory":29818880,"cpu_user":0.11,"cpu_sys":0.07,"status":"pass","output":"../../Matrices/1.matrix\n\nPuzzle:\n9 2 0 0 0 0 5 8 4\n0 0 0 5 0 0 0 0 3\n0 8 3 0 9 2 0 0 0\n2 6 0 8 5 4 0 0 1\n0 0 5 3 6 1 0 9 0\n1 0 0 0 0 9 0 0 0\n8 5 0 2 0 3 0 1 0\n4 1 2 9 8 0 0 3 0\n3 9 0 0 0 6 8 0 0\n\nPuzzle:\n9 2 1 6 3 7 5 8 4\n6 7 4 5 1 8 9 2 3\n5 8 3 4 9 2 1 6 7\n2 6 9 8 5 4 3 7 1\n7 4 5 3 6 1 2 9 8\n1 3 8 7 2 9 6 4 5\n8 5 6 2 7 3 4 1 9\n4 1 2 9 8 5 7 3 6\n3 9 7 1 4 6 8 5 2\n\nSolved in Iterations=656\n\nSeconds to process 0.024\n"}],"runType":"Local","logo":"CleanedUp/logos/Python.png"},{"solver":"C","timestamp":"2025-12-04T18:30:00.000Z","results":[{"matrix":"1.matrix","time":0.004502,"iterations":656,"memory":1220608,"cpu_user":0,"cpu_sys":0,"status":"pass","output":"/usr/Matrices/1.matrix\n\nPuzzle:\n9 2 0 0 0 0 5 8 4 \n0 0 0 5 0 0 0 0 3 \n0 8 3 0 9 2 0 0 0 \n2 6 0 8 5 4 0 0 1 \n0 0 5 3 6 1 0 9 0 \n1 0 0 0 0 9 0 0 0 \n8 5 0 2 0 3 0 1 0 \n4 1 2 9 8 0 0 3 0 \n3 9 0 0 0 6 8 0 0 \n\nPuzzle:\n9 2 1 6 3 7 5 8 4 \n6 7 4 5 1 8 9 2 3 \n5 8 3 4 9 2 1 6 7 \n2 6 9 8 5 4 3 7 1 \n7 4 5 3 6 1 2 9 8 \n1 3 8 7 2 9 6 4 5 \n8 5 6 2 7 3 4 1 9 \n4 1 2 9 8 5 7 3 6 \n3 9 7 1 4 6 8 5 2 \n\nSolved in Iterations=656\n\nSeconds to process 0.001\n"}],"runType":"Local","logo":"CleanedUp/logos/C.png"},{"solver":"C++","timestamp":"2025-12-04T18:45:00.000Z","results":[{"matrix":"1.matrix","time":0.027673,"iterations":656,"memory":1310720,"cpu_user":0,"cpu_sys":0,"status":"pass","output":"/Users/cars10/GIT/SudokuSolver/Matrices/1.matrix\n\nPuzzle:\n9 2 0 0 0 0 5 8 4 \n0 0 0 5 0 0 0 0 3 \n0 8 3 0 9 2 0 0 0 \n2 6 0 8 5 4 0 0 1 \n0 0 5 3 6 1 0 9 0 \n1 0 0 0 0 9 0 0 0 \n8 5 0 2 0 3 0 1 0 \n4 1 2 9 8 0 0 3 0 \n3 9 0 0 0 6 8 0 0 \n\nPuzzle:\n9 2 1 6 3 7 5 8 4 \n6 7 4 5 1 8 9 2 3 \n5 8 3 4 9 2 1 6 7 \n2 6 9 8 5 4 3 7 1 \n7 4 5 3 6 1 2 9 8 \n1 3 8 7 2 9 6 4 5 \n8 5 6 2 7 3 4 1 9 \n4 1 2 9 8 5 7 3 6 \n3 9 7 1 4 6 8 5 2 \n\nSolved in Iterations=656\n\nSeconds to process 0.000\n"}],"runType":"Local","logo":"CleanedUp/logos/C++.png"},{"solver":"C++","timestamp":"2025-12-04T19:08:23.421Z","results":[{"matrix":"1.matrix","time":0.01236,"iterations":656,"memory":3190784,"cpu_user":0,"cpu_sys":0,"status":"pass","output":"../Matrices/1.matrix\n\nPuzzle:\n9 2 0 0 0 0 5 8 4 \n0 0 0 5 0 0 0 0 3 \n0 8 3 0 9 2 0 0 0 \n2 6 0 8 5 4 0 0 1 \n0 0 5 3 6 1 0 9 0 \n1 0 0 0 0 9 0 0 0 \n8 5 0 2 0 3 0 1 0 \n4 1 2 9 8 0 0 3 0 \n3 9 0 0 0 6 8 0 0 \n\nPuzzle:\n9 2 1 6 3 7 5 8 4 \n6 7 4 5 1 8 9 2 3 \n5 8 3 4 9 2 1 6 7 \n2 6 9 8 5 4 3 7 1 \n7 4 5 3 6 1 2 9 8 \n1 3 8 7 2 9 6 4 5 \n8 5 6 2 7 3 4 1 9 \n4 1 2 9 8 5 7 3 6 \n3 9 7 1 4 6 8 5 2 \n\nSolved in Iterations=656\n\nSeconds to process 0.002\n"}],"runType":"Docker","logo":"CleanedUp/logos/C++.png"},{"solver":"Awk","runType":"Local","timestamp":"2025-12-05T07:49:25.174Z","results":[{"matrix":"1.matrix","time":0.014227,"iterations":656,"memory":1769472,"cpu_user":0,"cpu_sys":0,"status":"pass","output":"\nProcessing /Users/cars10/GIT/SudokuSolver/Matrices/1.matrix\nPuzzle:\n9 2 0 0 0 0 5 8 4 \n0 0 0 5 0 0 0 0 3 \n0 8 3 0 9 2 0 0 0 \n2 6 0 8 5 4 0 0 1 \n0 0 5 3 6 1 0 9 0 \n1 0 0 0 0 9 0 0 0 \n8 5 0 2 0 3 0 1 0 \n4 1 2 9 8 0 0 3 0 \n3 9 0 0 0 6 8 0 0 \n\nPuzzle:\n9 2 1 6 3 7 5 8 4 \n6 7 4 5 1 8 9 2 3 \n5 8 3 4 9 2 1 6 7 \n2 6 9 8 5 4 3 7 1 \n7 4 5 3 6 1 2 9 8 \n1 3 8 7 2 9 6 4 5 \n8 5 6 2 7 3 4 1 9 \n4 1 2 9 8 5 7 3 6 \n3 9 7 1 4 6 8 5 2 \n\nSolved in Iterations=656\n"},{"matrix":"2.matrix","time":0.804362,"iterations":439269,"memory":1785856,"cpu_user":0.73,"cpu_sys":0,"status":"pass","output":"\nProcessing /Users/cars10/GIT/SudokuSolver/Matrices/2.matrix\nPuzzle:\n0 0 3 0 0 5 0 0 4 \n5 0 0 9 8 1 0 0 0 \n0 0 0 0 0 0 0 2 0 \n2 0 0 7 0 0 9 0 0 \n0 8 0 0 9 0 0 3 0 \n0 0 9 0 0 2 0 0 1 \n0 3 0 0 0 0 0 0 0 \n0 0 0 1 4 9 0 0 5 \n9 0 0 3 0 0 8 0 0 \n\nPuzzle:\n8 6 3 2 7 5 1 9 4 \n5 4 2 9 8 1 6 7 3 \n1 9 7 4 3 6 5 2 8 \n2 5 4 7 1 3 9 8 6 \n6 8 1 5 9 4 2 3 7 \n3 7 9 8 6 2 4 5 1 \n4 3 5 6 2 8 7 1 9 \n7 2 8 1 4 9 3 6 5 \n9 1 6 3 5 7 8 4 2 \n\nSolved in Iterations=439269\n"},{"matrix":"3.matrix","time":0.209526,"iterations":98847,"memory":1769472,"cpu_user":0.18,"cpu_sys":0,"status":"pass","output":"\nProcessing /Users/cars10/GIT/SudokuSolver/Matrices/3.matrix\nPuzzle:\n0 9 0 6 0 0 0 7 0 \n0 5 2 0 7 0 0 4 8 \n0 8 0 0 0 1 0 2 0 \n0 0 5 0 0 0 0 0 3 \n0 1 0 0 0 0 0 6 0 \n3 0 0 0 0 0 4 0 0 \n0 4 0 2 0 0 0 1 0 \n2 6 0 0 4 0 5 3 0 \n0 3 0 0 0 6 0 9 0 \n\nPuzzle:\n4 9 3 6 8 2 1 7 5 \n1 5 2 3 7 9 6 4 8 \n7 8 6 4 5 1 3 2 9 \n6 7 5 1 2 4 9 8 3 \n8 1 4 5 9 3 7 6 2 \n3 2 9 8 6 7 4 5 1 \n9 4 7 2 3 5 8 1 6 \n2 6 1 9 4 8 5 3 7 \n5 3 8 7 1 6 2 9 4 \n\nSolved in Iterations=98847\n"},{"matrix":"4.matrix","time":0.028108,"iterations":9085,"memory":1769472,"cpu_user":0.01,"cpu_sys":0,"status":"pass","output":"\nProcessing /Users/cars10/GIT/SudokuSolver/Matrices/4.matrix\nPuzzle:\n0 7 0 0 0 0 0 0 6 \n1 0 0 2 7 0 5 0 0 \n0 0 0 0 4 0 0 3 0 \n2 1 9 0 0 0 0 7 0 \n0 0 8 0 0 0 4 0 0 \n0 4 0 0 0 0 2 5 9 \n0 9 0 0 3 0 0 0 0 \n0 0 5 0 9 6 0 0 7 \n7 0 0 0 0 0 0 8 0 \n\nPuzzle:\n3 7 4 5 8 9 1 2 6 \n1 8 6 2 7 3 5 9 4 \n9 5 2 6 4 1 7 3 8 \n2 1 9 4 6 5 8 7 3 \n5 3 8 9 2 7 4 6 1 \n6 4 7 3 1 8 2 5 9 \n8 9 1 7 3 2 6 4 5 \n4 2 5 8 9 6 3 1 7 \n7 6 3 1 5 4 9 8 2 \n\nSolved in Iterations=9085\n"},{"matrix":"5.matrix","time":0.731192,"iterations":445778,"memory":1769472,"cpu_user":0.71,"cpu_sys":0,"status":"pass","output":"\nProcessing /Users/cars10/GIT/SudokuSolver/Matrices/5.matrix\nPuzzle:\n8 0 0 0 0 0 0 0 0 \n0 0 3 6 0 0 0 0 0 \n0 7 0 0 9 0 2 0 0 \n0 5 0 0 0 7 0 0 0 \n0 0 0 0 4 5 7 0 0 \n0 0 0 1 0 0 0 3 0 \n0 0 1 0 0 0 0 6 8 \n0 0 8 5 0 0 0 1 0 \n0 9 0 0 0 0 4 0 0 \n\nPuzzle:\n8 1 2 7 5 3 6 4 9 \n9 4 3 6 8 2 1 7 5 \n6 7 5 4 9 1 2 8 3 \n1 5 4 2 3 7 8 9 6 \n3 6 9 8 4 5 7 2 1 \n2 8 7 1 6 9 5 3 4 \n5 2 1 9 7 4 3 6 8 \n4 3 8 5 2 6 9 1 7 \n7 9 6 3 1 8 4 5 2 \n\nSolved in Iterations=445778\n"}],"logo":"CleanedUp/logos/Awk.png"}];
                
                let data = metricsData;
                
                let currentChart = 'line';

                // Expose switchChart globally
                // Expose switchChart globally - DEFINED EARLY TO PREVENT REFERENCE ERRORS
                window.switchChart = function(type) {
                    try {
                        currentChart = type;
                        const btnLine = document.getElementById('btn-chart-line');
                        const btnJockey = document.getElementById('btn-chart-jockey');
                        if (btnLine) btnLine.classList.toggle('active', type === 'line');
                        if (btnJockey) btnJockey.classList.toggle('active', type === 'jockey');
                        
                        // Check if D3 is loaded
                        if (typeof d3 === 'undefined') {
                            throw new Error("D3.js library not loaded. Please check your internet connection.");
                        }

                        const container = d3.select("#d3-chart-container");
                        container.selectAll("*").remove();
                        
                        if (type === 'line') {
                            drawLineChart();
                        } else {
                            drawJockeyChart();
                        }
                    } catch (e) {
                        console.error("Error switching chart:", e);
                        const container = document.getElementById('d3-chart-container');
                        if (container) {
                            container.innerHTML = "<div style='color:#ff4444; padding:20px; text-align:center; font-family:monospace;'>" +
                                "<h3>Chart Error</h3>" +
                                "<p>" + e.message + "</p>" +
                                "</div>";
                        }
                    }
                };

                try {
                    // Check for D3 availability immediately
                    if (typeof d3 === 'undefined') {
                        throw new Error("D3.js library failed to load.");
                    }

                    // Filter out mismatched solvers
                    const cSolver = data.find(s => s.solver === 'C');
                    if (cSolver) {
                        const cIters = {};
                        cSolver.results.forEach(r => cIters[r.matrix] = r.iterations);
                        
                        data = data.filter(s => {
                            if (s.solver === 'C') return true;
                            const hasMismatch = s.results.some(r => {
                                const expected = cIters[r.matrix];
                                return expected && r.iterations !== expected;
                            });
                            return !hasMismatch;
                        });
                    }

                const matrices = ["1.matrix", "2.matrix", "3.matrix", "4.matrix", "5.matrix", "6.matrix"];
                const minTime = 0.004502;
                const maxTime = 0.804362;
                
                // Color Palette
                const color = d3.scaleOrdinal()
                    .domain(data.map(d => d.solver))
                    .range(["#00ff9d", "#00b8ff", "#ff0055", "#ffcc00", "#bd00ff", "#00ffff"]);



                function drawLineChart() {
                    const container = document.getElementById('d3-chart-container');
                    const width = container.clientWidth;
                    const height = container.clientHeight;
                    const margin = { top: 20, right: 120, bottom: 50, left: 60 };
                    
                    const svg = d3.select("#d3-chart-container")
                        .append("svg")
                        .attr("width", width)
                        .attr("height", height)
                        .append("g")
                        .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
                        
                    const chartWidth = width - margin.left - margin.right;
                    const chartHeight = height - margin.top - margin.bottom;

                    // Zoom
                    const zoom = d3.zoom()
                        .scaleExtent([0.5, 5])
                        .filter(function(event) {
                            // Only allow zoom if mouse is within the chart area
                            if (event.type === 'wheel' || event.type === 'mousedown') {
                                const [mx, my] = d3.pointer(event, this);
                                return mx >= 0 && mx <= chartWidth && my >= 0 && my <= chartHeight;
                            }
                            return true;
                        })
                        .on("zoom", (event) => {
                            // Apply transform with margin offset
                            svg.attr("transform", "translate(" + (margin.left + event.transform.x) + "," + (margin.top + event.transform.y) + ") scale(" + event.transform.k + ")");
                        });
                    
                    d3.select("#d3-chart-container svg").call(zoom);
                    
                    // X Axis
                    const x = d3.scalePoint()
                        .domain(matrices)
                        .range([0, chartWidth])
                        .padding(0.5);
                        
                    svg.append("g")
                        .attr("transform", "translate(0," + chartHeight + ")")
                        .call(d3.axisBottom(x))
                        .selectAll("text")
                        .style("fill", "#e0e0e0")
                        .style("font-family", "JetBrains Mono");
                        
                    svg.append("text")
                        .attr("text-anchor", "end")
                        .attr("x", chartWidth)
                        .attr("y", chartHeight + 40)
                        .style("fill", "#5c5c66")
                        .style("font-size", "12px")
                        .text("Matrix Input");

                    // Y Axis
                    const y = d3.scaleLog()
                        .domain([minTime, maxTime])
                        .range([chartHeight, 0]);

                    svg.append("g")
                        .call(d3.axisLeft(y)
                            .ticks(5)
                            .tickFormat((d) => {
                                const ticks = y.ticks(5);
                                if (ticks.indexOf(d) % 2 === 0 || ticks.length <= 3) {
                                    return d >= 1 ? d3.format(".1f")(d) + "s" : d3.format(".2f")(d) + "s";
                                }
                                return "";
                            })
                        )
                        .selectAll("text")
                        .style("fill", "#e0e0e0")
                        .style("font-family", "JetBrains Mono");

                    svg.append("text")
                        .attr("transform", "rotate(-90)")
                        .attr("y", 0 - margin.left)
                        .attr("x", 0 - (chartHeight / 2))
                        .attr("dy", "1em")
                        .style("text-anchor", "middle")
                        .style("fill", "#5c5c66")
                        .style("font-size", "12px")
                        .text("Time (seconds) - Log Scale");
                    
                    // Grid lines
                    svg.append("g")
                        .attr("class", "grid")
                        .attr("opacity", 0.1)
                        .call(d3.axisLeft(y).tickSize(-chartWidth).tickFormat(""));

                    // Line Generator
                    const line = d3.line()
                        .x(d => x(d.matrix))
                        .y(d => y(Math.max(d.time, minTime)));

                    // Draw Lines
                    data.forEach(solver => {
                        const solverData = solver.results.filter(r => matrices.includes(r.matrix));
                        const safeSolverClass = "dot-" + solver.solver.replace(/[^a-zA-Z0-9]/g, '_');

                        svg.append("path")
                            .datum(solverData)
                            .attr("fill", "none")
                            .attr("stroke", color(solver.solver))
                            .attr("stroke-width", 2)
                            .attr("d", line)
                            .attr("class", "line-path");

                        const pointGroup = svg.selectAll("." + safeSolverClass)
                            .data(solverData)
                            .enter().append("g")
                            .attr("class", safeSolverClass)
                            .attr("transform", d => "translate(" + x(d.matrix) + ", " + y(Math.max(d.time, minTime)) + ")");

                        // Logo Image
                        pointGroup.append("image")
                            .attr("xlink:href", solver.logo)
                            .attr("x", -8)
                            .attr("y", -8)
                            .attr("width", 16)
                            .attr("height", 16)
                            .attr("preserveAspectRatio", "xMidYMid meet")
                            .attr("filter", d => {
                                const baseLang = solver.solver.replace(/ ((Manual|AI))$/, '');
                                const config = tailoring[baseLang] || tailoring[solver.solver];
                                if (config?.invert) return "url(#filter-invert)";
                                if (config?.transparent_white) return "url(#filter-transparent-white)";
                                return null;
                            });

                        // Docker Icon (Whale)
                        if (solver.runType === 'Docker') {
                            pointGroup.append("text")
                                .text("üê≥")
                                .attr("x", 6)
                                .attr("y", 6)
                                .attr("font-size", "10px")
                                .style("pointer-events", "none");
                        }

                        // Interactions
                        pointGroup.on("mouseover", function (event, d) {
                                d3.select(this).raise();
                                d3.select(this).select("image")
                                    .attr("width", 24)
                                    .attr("height", 24)
                                    .attr("x", -12)
                                    .attr("y", -12);
                                
                                const tooltip = document.getElementById('tooltip');
                                tooltip.style.display = 'block';
                                tooltip.style.left = (event.clientX + 15) + 'px';
                                tooltip.style.top = (event.clientY + 15) + 'px';
                                tooltip.innerHTML = "<strong style='color:" + color(solver.solver) + "'>" + solver.solver + "</strong>" + 
                                                    (solver.runType === 'Docker' ? " üê≥" : "") +
                                                    "<br>Matrix: " + d.matrix + "<br>Time: " + d.time.toFixed(6) + "s<br>Iters: " + d.iterations;
                            })
                            .on("mouseout", function () {
                                d3.select(this).select("image")
                                    .attr("width", 16)
                                    .attr("height", 16)
                                    .attr("x", -8)
                                    .attr("y", -8);
                                document.getElementById('tooltip').style.display = 'none';
                            });

// Label
const lastPoint = solverData[solverData.length - 1];
if (lastPoint) {
    svg.append("text")
        .attr("x", x(lastPoint.matrix) + 10)
        .attr("y", y(Math.max(lastPoint.time, minTime)))
        .attr("dy", "0.35em")
        .style("fill", color(solver.solver))
        .style("font-size", "12px")
        .style("font-weight", "bold")
        .text(solver.solver);
}
                    });
                }

function drawJockeyChart() {
    const container = document.getElementById('d3-chart-container');
    const width = container.clientWidth;
    const height = container.clientHeight;
    const margin = { top: 20, right: 60, bottom: 20, left: 150 };

    const svg = d3.select("#d3-chart-container")
        .append("svg")
        .attr("width", width)
        .attr("height", height)
        .append("g")
        .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

    const chartWidth = width - margin.left - margin.right;
    const chartHeight = height - margin.top - margin.bottom;

    // Zoom
    const zoom = d3.zoom()
        .scaleExtent([0.5, 5])
        .filter(function(event) {
            // Only allow zoom if mouse is within the chart area
            if (event.type === 'wheel' || event.type === 'mousedown') {
                const [mx, my] = d3.pointer(event, this);
                return mx >= 0 && mx <= chartWidth && my >= 0 && my <= chartHeight;
            }
            return true;
        })
        .on("zoom", (event) => {
            svg.attr("transform", "translate(" + (margin.left + event.transform.x) + "," + (margin.top + event.transform.y) + ") scale(" + event.transform.k + ")");
        });
    
    d3.select("#d3-chart-container svg").call(zoom);

                    // Calculate Total Time for sorting
                    const sortedData = [...data].map(s => {
                        const totalTime = s.results.reduce((acc, r) => acc + r.time, 0);
                        return { ...s, totalTime: totalTime > 0 ? totalTime : 0.000001 }; // Prevent 0 for log scale
                    }).sort((a, b) => a.totalTime - b.totalTime); // Fastest first

    const minTotal = d3.min(sortedData, d => d.totalTime);
    const maxTotal = d3.max(sortedData, d => d.totalTime);

    // Y Axis (Solvers)
    const y = d3.scaleBand()
        .domain(sortedData.map(d => d.solver))
        .range([0, chartHeight])
        .padding(0.2);

    // X Axis (Total Time - Log Scale)
    const x = d3.scaleLog()
        .domain([minTotal, maxTotal])
        .range([0, chartWidth]);

    // Draw Tracks (Background Lines)
    svg.selectAll(".track")
        .data(sortedData)
        .enter().append("line")
        .attr("x1", 0)
        .attr("x2", chartWidth)
        .attr("y1", d => y(d.solver) + y.bandwidth() / 2)
        .attr("y2", d => y(d.solver) + y.bandwidth() / 2)
        .attr("stroke", "#2a2a35")
        .attr("stroke-width", 1)
        .attr("stroke-dasharray", "4");

    // Draw Bars (Progress)
    svg.selectAll(".bar")
        .data(sortedData)
        .enter().append("rect")
        .attr("y", d => y(d.solver) + y.bandwidth() / 2 - 2)
        .attr("height", 4)
        .attr("x", 0)
        .attr("width", d => x(d.totalTime))
        .attr("fill", d => color(d.solver))
        .attr("opacity", 0.6);

    // Draw Logos (Jockeys)
    svg.selectAll(".jockey")
        .data(sortedData)
        .enter().append("image")
        .attr("xlink:href", d => d.logo)
        .attr("x", d => x(d.totalTime) - 20) // Center image on end of bar
        .attr("y", d => y(d.solver) + y.bandwidth() / 2 - 10)
        .attr("width", 20)
        .attr("height", 20)
        .attr("preserveAspectRatio", "xMidYMid meet")
        .attr("filter", d => {
            const baseLang = d.solver.replace(/ ((Manual|AI))$/, '');
            const config = tailoring[baseLang] || tailoring[d.solver];
            if (config?.invert) return "url(#filter-invert)";
            if (config?.transparent_white) return "url(#filter-transparent-white)";
            return null;
        })
        .on("mouseover", function (event, d) {
            d3.select(this).attr("width", 32).attr("height", 32).attr("x", x(d.totalTime) - 16).attr("y", y(d.solver) + y.bandwidth() / 2 - 16);
            const tooltip = document.getElementById('tooltip');
            tooltip.style.display = 'block';
            tooltip.style.left = (event.clientX + 15) + 'px';
            tooltip.style.top = (event.clientY + 15) + 'px';
            tooltip.innerHTML = "<strong style='color:" + color(d.solver) + "'>" + d.solver + "</strong><br>Total Time: " + d.totalTime.toFixed(4) + "s";
        })
        .on("mouseout", function (event, d) {
            d3.select(this).attr("width", 24).attr("height", 24).attr("x", x(d.totalTime) - 12).attr("y", y(d.solver) + y.bandwidth() / 2 - 12);
            document.getElementById('tooltip').style.display = 'none';
        });

    // Y Axis Labels
    svg.append("g")
        .call(d3.axisLeft(y))
        .selectAll("text")
        .style("fill", "#e0e0e0")
        .style("font-family", "JetBrains Mono")
        .style("font-size", "10px");

    // X Axis
    svg.append("g")
        .attr("transform", "translate(0," + chartHeight + ")")
        .call(d3.axisBottom(x).ticks(5, ".1f"))
        .selectAll("text")
        .style("fill", "#5c5c66");
} // End of drawJockeyChart

                // Initial Draw
                if (typeof d3 !== 'undefined') {
                    drawLineChart();
                } else {
                    throw new Error("D3.js not loaded");
                }

                } catch (e) {
                    console.error("Error initializing D3 charts:", e);
                    // If initialization fails, switchChart is still defined and will show error when clicked
                    // Show error immediately
                    window.switchChart('line'); 
                }
            }) ();
    </script>
    <script>
// Inject Matrix Data
const matrixPuzzles = ["# Against Brute Force\n0 0 0 0 0 0 0 0 0\n0 0 0 0 0 3 0 8 5\n0 0 1 0 2 0 0 0 0\n0 0 0 5 0 7 0 0 0\n0 0 4 0 0 0 1 0 0\n0 9 0 0 0 0 0 0 0\n5 0 0 0 0 0 0 7 3\n0 0 2 0 1 0 0 0 0\n0 0 0 0 4 0 0 0 9","# Most Extreme ?\n8 0 0 0 0 0 0 0 0\n0 0 3 6 0 0 0 0 0\n0 7 0 0 9 0 2 0 0\n0 5 0 0 0 7 0 0 0\n0 0 0 0 4 5 7 0 0\n0 0 0 1 0 0 0 3 0\n0 0 1 0 0 0 0 6 8\n0 0 8 5 0 0 0 1 0\n0 9 0 0 0 0 4 0 0","# Extreme\n0 7 0 0 0 0 0 0 6\n1 0 0 2 7 0 5 0 0\n0 0 0 0 4 0 0 3 0\n2 1 9 0 0 0 0 7 0\n0 0 8 0 0 0 4 0 0\n0 4 0 0 0 0 2 5 9\n0 9 0 0 3 0 0 0 0\n0 0 5 0 9 6 0 0 7\n7 0 0 0 0 0 0 8 0","# Extreme\n0 9 0 6 0 0 0 7 0\n0 5 2 0 7 0 0 4 8\n0 8 0 0 0 1 0 2 0\n0 0 5 0 0 0 0 0 3\n0 1 0 0 0 0 0 6 0\n3 0 0 0 0 0 4 0 0\n0 4 0 2 0 0 0 1 0\n2 6 0 0 4 0 5 3 0\n0 3 0 0 0 6 0 9 0","# Hard\n0 0 3 0 0 5 0 0 4\n5 0 0 9 8 1 0 0 0\n0 0 0 0 0 0 0 2 0\n2 0 0 7 0 0 9 0 0\n0 8 0 0 9 0 0 3 0\n0 0 9 0 0 2 0 0 1\n0 3 0 0 0 0 0 0 0\n0 0 0 1 4 9 0 0 5\n9 0 0 3 0 0 8 0 0","# Easy\n9 2 0 0 0 0 5 8 4\n0 0 0 5 0 0 0 0 3\n0 8 3 0 9 2 0 0 0\n2 6 0 8 5 4 0 0 1\n0 0 5 3 6 1 0 9 0\n1 0 0 0 0 9 0 0 0\n8 5 0 2 0 3 0 1 0\n4 1 2 9 8 0 0 3 0\n3 9 0 0 0 6 8 0 0\n\n"];

// Matrix Screensaver Logic
// Define variables in outer scope to be accessible
let startScreensaverGlobal;

(function () {
    try {


        console.log("Initializing Matrix Screensaver...");
        const canvas = document.getElementById('matrix-canvas');
        if (!canvas) console.error("Matrix canvas not found!");
        
        const ctx = canvas.getContext('2d');
        const container = canvas.parentElement;
        const chartContainer = document.getElementById('d3-chart-container');

    let width, height;
    let columns;
    let active = false;
    let ignoreInput = false;
    let animationId;
    let frame = 0;

    // Expose globally immediately
    window.startScreensaver = startScreensaver;
    startScreensaverGlobal = startScreensaver;
    
    // Puzzle Overlay State
    let puzzleY = -1000; // Start way above
    let currentPuzzleIndex = 0;
    let puzzleLines = [];
    
    function prepareNextPuzzle() {
        console.log('prepareNextPuzzle called, matrixPuzzles.length:', matrixPuzzles.length);
        if (matrixPuzzles.length === 0) return;
        const rawText = matrixPuzzles[currentPuzzleIndex];
        puzzleLines = rawText.split('\n');
        console.log('Prepared puzzle with', puzzleLines.length, 'lines');
        // Start from the BOTTOM of the screen
        puzzleY = height || window.innerHeight; 
        currentPuzzleIndex = (currentPuzzleIndex + 1) % matrixPuzzles.length;
        specialRows.clear(); // Reset special rows for new puzzle
    }

    // Matrix characters (Katakana + Latin)
    const chars = '/Cars10„Ç¢„Ç°„Ç´„Çµ„Çø„Éä„Éè„Éû„É§„É£„É©„ÉØ„Ç¨„Ç∂„ÉÄ„Éê„Éë„Ç§„Ç£„Ç≠„Ç∑„ÉÅ„Éã„Éí„Éü„É™„É∞„ÇÆ„Ç∏„ÉÇ„Éì„Éî„Ç¶„Ç•„ÇØ„Çπ„ÉÑ„Éå„Éï„É†„É¶„É•„É´„Ç∞„Ç∫„Éñ„ÉÖ„Éó„Ç®„Çß„Ç±„Çª„ÉÜ„Éç„Éò„É°„É¨„É±„Ç≤„Çº„Éá„Éô„Éö„Ç™„Ç©„Ç≥„ÇΩ„Éà„Éé„Éõ„É¢„É®„Éß„É≠„É≤„Ç¥„Çæ„Éâ„Éú„Éù„É¥„ÉÉ„É≥0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ';

    function resize() {
        if (document.fullscreenElement) {
            canvas.style.position = 'fixed';
            canvas.style.top = '0';
            canvas.style.left = '0';
            canvas.style.width = '100vw';
            canvas.style.height = '100vh';
            canvas.style.zIndex = '1000';
            width = window.innerWidth;
            height = window.innerHeight;
        } else {
            canvas.style.position = 'absolute';
            canvas.style.top = '0';
            canvas.style.left = '0';
            canvas.style.width = '100%';
            canvas.style.height = '100%';
            canvas.style.zIndex = '10';
            // Use current parent, which might change
            const parent = canvas.parentElement || container;
            width = parent.clientWidth;
            height = parent.clientHeight;
        }

        canvas.width = width;
        canvas.height = height;

        const fontSize = 14;
        columns = Math.ceil(width / fontSize);

        // Initialize drops
        drops = [];
        for (let i = 0; i < columns; i++) {
            drops[i] = Math.random() * -100; // Start above screen
        }
    }

    // Glow State
    let glowHue = 0; // 0 for Red, 240 for Blue
    let glowDirection = 1;
    
    // Dancing Highlight State
    let dancingRow = 0;
    let dancingCol = 0;
    let lastDanceTime = 0;
    
    // Slide-in Animation State
    let slideInComplete = false;
    
    // Easter Egg State
    let lastCars10Time = 0;
    let specialRows = new Set();
    
    let currentMode = 'red'; // Default to full screen

    function draw() {
        if (active) {
            animationId = requestAnimationFrame(draw);
        }

        frame++;
        if (frame % 2 !== 0) return;

        // Black background with opacity for trail effect
        // Lower opacity = longer trails
        ctx.fillStyle = 'rgba(0, 0, 0, 0.03)';
        ctx.fillRect(0, 0, width, height);

        ctx.fillStyle = '#0F0'; // Green text
        ctx.font = '14px monospace';

        // Draw Matrix Rain
        for (let i = 0; i < drops.length; i++) {
            const x = i * 14;
            const y = drops[i] * 14;
            // Occasional Easter Egg
            if (Math.random() > 0.999) {
                const text = "/cars10";
                ctx.fillStyle = '#FFF';
                ctx.shadowColor = '#FFF';
                ctx.shadowBlur = 8;
                ctx.font = 'bold 16px monospace'; // Slightly larger/bold
                for (let k = 0; k < text.length; k++) {
                    ctx.fillText(text[k], x, y + (k * 14));
                }
                ctx.shadowBlur = 0;
                ctx.font = '14px monospace'; // Reset
                ctx.fillStyle = '#0F0'; // Reset
            } else {
                const text = chars.charAt(Math.floor(Math.random() * chars.length));
                ctx.fillText(text, x, y);
            }

            // Reset drop to top randomly after it has crossed the screen
            if (y > height && Math.random() > 0.975) {
                drops[i] = 0;
            }

            drops[i]++;
        }

        // Check if rain has reached halfway
        let rainHalfway = false;
        const gridHeight = height / 14; // 14px font for rain
        for (let i = 0; i < drops.length; i++) {
            if (drops[i] > gridHeight / 2) {
                rainHalfway = true;
                break;
            }
        }

        // Draw Puzzle Overlay (only in fullscreen mode, after slide-in completes)
        if (currentMode === 'red' && puzzleLines.length > 0 && slideInComplete) {
            // 1. Calculate Font Size
            // Goal: Row fits 2/3 of screen width
            const targetWidth = width * 0.66;
            const charCount = 17; // 9 digits + 8 spaces
            let fontSize = Math.floor(targetWidth / charCount * 1.6); // Multiplier to adjust

            // "Font size should also increase by 30%" - ONLY for Red Mode (Full Screen)
            // For Blue Mode (Chart), we scale it down a bit relative to that
            if (currentMode === 'red') {
                fontSize = Math.floor(fontSize * 0.675); // Half the previous size
            } else {
                // Blue mode: maybe keep it standard or slightly smaller
                fontSize = Math.floor(fontSize * 0.8);
            }

            ctx.font = 'bold ' + fontSize + 'px "JetBrains Mono", monospace';
            ctx.textAlign = 'center';
            
            // Base color for fallback
            const color = '#FF0055'; // Bright neon red
            
            // Reduced glow for "fading trails" look
            ctx.shadowBlur = 5;
            ctx.shadowColor = color;
            ctx.fillStyle = color;

            const lineHeight = fontSize * 3.0; // Double spacing (simulates blank row)
            const startX = width / 2;

            // 3. Dancing Highlight Logic
            if (Date.now() - lastDanceTime > 200) {
                dancingRow = Math.floor(Math.random() * 9);
                dancingCol = Math.floor(Math.random() * 9);
                lastDanceTime = Date.now();
            }

            // 4. Easter Egg Logic: /cars10
            if (Date.now() - lastCars10Time > 1000) { // Every 1 second
                 const visibleRows = [];
                 for (let i = 0; i < puzzleLines.length; i++) {
                    const lineY = puzzleY + (i * lineHeight);
                    // Check if fully visible on screen
                    if (lineY > lineHeight && lineY < height - lineHeight) {
                        visibleRows.push(i);
                    }
                 }
                 
                 if (visibleRows.length > 0) {
                     // Pick a random row that isn't already special
                     const candidates = visibleRows.filter(r => !specialRows.has(r));
                     if (candidates.length > 0) {
                         const randomRow = candidates[Math.floor(Math.random() * candidates.length)];
                         specialRows.add(randomRow);
                     }
                 }
                 lastCars10Time = Date.now();
            }

            // Define columns to draw based on mode
            let xPositions = [];
            if (currentMode === 'red') {
                // Single centered column for fullscreen
                xPositions = [width * 0.5];
            } else {
                // Single centered column for chart mode
                xPositions = [width * 0.5];
            }

            // 3. Iterate over each column position
            for (const startX of xPositions) {
                // Determine visible rows for this column
                const visibleRows = [];
                for (let i = 0; i < puzzleLines.length; i++) {
                    const lineY = puzzleY + (i * lineHeight);
                    
                    // Only consider visible rows
                    if (lineY > -lineHeight * 0.2 && lineY < height + lineHeight * 0.2) {
                        visibleRows.push(i);
                    }
                }
                
                // No background clearing - completely transparent
                // Numbers will appear directly over Matrix rain
                
                // Draw each line of the puzzle
                for (let i = 0; i < puzzleLines.length; i++) {
                    const lineY = puzzleY + (i * lineHeight);
                    
                    // Only draw if visible
                    if (lineY > -lineHeight && lineY < height + lineHeight) {
                        const line = puzzleLines[i];
                        


                        const parts = line.trim().split(/s+/);
                        
                        if (parts.length === 9) {
                            const spacing = fontSize * 1.2;
                            // Calculate total width of the puzzle block
                            const totalBlockWidth = (9 * fontSize * 1.2); // 9 chars * spacing
                            
                            // Clear the entire puzzle area for this column to prevent streaks
                            // We do this ONCE per column loop, not per character, but here we are inside the loop.
                            // Actually, let's do it per character but simpler:
                            
                            for (let j = 0; j < parts.length; j++) {
                                const isDancing = (i % 9 === dancingRow) && (j === dancingCol);
                                
                                // Calculate distance from center for scale effect
                                const distFromCenter = Math.abs(lineY - height / 2);
                                const maxDist = height / 2;
                                const centerFactor = 1 - (distFromCenter / maxDist); // 1 at center, 0 at edges
                                
                                // Scale animation: grow at center (applies to all numbers)
                                const scaleBoost = 1 + (centerFactor * 0.3); // 1.0 to 1.3x at center
                                
                                ctx.save();
                                // Tall Numbers: Scale Y by 2, plus center boost
                                ctx.translate(currentX, lineY);
                                ctx.scale(scaleBoost, 2 * scaleBoost);
                                
                                // Draw a semi-transparent background box to hide streaks but keep it "semi transparent"
                                ctx.globalCompositeOperation = 'source-over';
                                ctx.fillStyle = 'rgba(0, 0, 0, 0.8)'; // Semi-transparent black
                                // Clear from way above to way below
                                ctx.fillRect(-fontSize * 0.6, -fontSize * 2, fontSize * 1.2, fontSize * 6);
                                
                                // Draw number
                                ctx.globalCompositeOperation = 'source-over';
                                ctx.shadowBlur = 0; 
                                ctx.shadowColor = 'transparent';
                                ctx.strokeStyle = isDancing ? '#00b8ff' : '#FF0055'; // Blue if dancing, Red otherwise
                                ctx.lineWidth = isDancing ? 4 : 2;
                                
                                if (isDancing) {
                                    ctx.scale(1.5, 1.5); // Extra scale for dancing
                                    ctx.shadowBlur = 10;
                                    ctx.shadowColor = '#00b8ff';
                                }
                                ctx.strokeText(parts[j], 0, 0);
                                
                                ctx.restore();
                                currentX += spacing;
                            }
                        } else {
                            // Header or other text
                            ctx.save();
                            ctx.translate(startX, lineY);
                            ctx.scale(1, 2);
                            ctx.strokeStyle = color;
                            ctx.lineWidth = 2;
                            ctx.strokeText(line, 0, 0);
                            ctx.restore();
                        }
                    }
                }
            }

            // Reset shadow
            ctx.shadowBlur = 0;

            puzzleY -= 5; // Scroll UP (Ascent)

            // Reset if puzzle went off screen (top)
            // Total height of puzzle = lines * lineHeight
            const totalPuzzleHeight = puzzleLines.length * lineHeight;
            if (puzzleY < -totalPuzzleHeight) {
                prepareNextPuzzle();
            }
        } else {
             // If not ready or no lines, ensure we are ready for next
             if (puzzleLines.length === 0) prepareNextPuzzle();
        }
    }


    function startScreensaver(mode) {
        if (active) return;
        active = true;
        ignoreInput = true;
        setTimeout(() => { ignoreInput = false; }, 1500); // Grace period
        
        currentMode = mode || 'red'; // Default to red

        const canvas = document.getElementById('matrix-canvas');
        const content = document.getElementById('main-content');
        const chartContainer = document.getElementById('d3-chart-container');

        if (currentMode === 'red') {
            // Full Screen Mode
            document.body.appendChild(canvas); // Move to body
            canvas.style.position = 'fixed';
            canvas.style.top = '0';
            canvas.style.left = '0';
            canvas.style.width = '100vw';
            canvas.style.height = '100vh';
            canvas.style.zIndex = '1000';
            
            // Add fullscreen class to body to hide scrollbars
            document.body.classList.add('fullscreen-active');
            
            // Show fullscreen header
            const fsHeader = document.getElementById('fullscreen-header');
            if (fsHeader) fsHeader.style.display = 'block';
            
            // Initial State for Animation
            canvas.classList.add('matrix-slide-enter');
            content.classList.add('content-slide-exit');
            
            // Force Reflow
            void canvas.offsetWidth;
            
            // Start Animation
            requestAnimationFrame(() => {
                canvas.classList.add('matrix-slide-active');
                
                // Delay content slide until Matrix is halfway down (0.75s of 1.5s total)
                setTimeout(() => {
                    content.classList.add('content-slide-active');
                }, 750);
                
                // Set flag earlier so numbers appear sooner (0.5s instead of 1.5s)
                setTimeout(() => {
                    slideInComplete = true;
                    console.log('slideInComplete set to true');
                }, 500);
                
                // Trigger Browser Fullscreen AFTER animation starts
                // This prevents the browser's fullscreen transition from interfering
                setTimeout(() => {
                    if (document.documentElement.requestFullscreen) {
                        document.documentElement.requestFullscreen().catch(e => console.log(e));
                    }
                }, 100);
            });
            
        } else {
            // Chart Mode (Blue Pill)
            chartContainer.appendChild(canvas); // Move to chart container
            canvas.style.position = 'absolute';
            canvas.style.top = '0';
            canvas.style.left = '0';
            canvas.style.width = '100%';
            canvas.style.height = '100%';
            canvas.style.zIndex = '10';

            // Add slide-down animation class
            canvas.classList.add('slide-down-slow');
        }

        canvas.style.display = 'block';

        resize();
        window.addEventListener('resize', resize);

        // Reset puzzle state
        puzzleLines = [];
        currentPuzzleIndex = 0;
        prepareNextPuzzle();

        draw();
    }

    function stopScreensaver() {
        if (!active) return;
        active = false;
        slideInComplete = false; // Reset flag
        const canvas = document.getElementById('matrix-canvas');
        const content = document.getElementById('main-content');

        canvas.style.display = 'none';
        
        // Remove fullscreen class from body
        document.body.classList.remove('fullscreen-active');
        
        // Hide fullscreen header
        const fsHeader = document.getElementById('fullscreen-header');
        if (fsHeader) fsHeader.style.display = 'none';
        
        // Remove animation classes
        canvas.classList.remove('slide-down-slow');
        canvas.classList.remove('matrix-slide-enter');
        canvas.classList.remove('matrix-slide-active');
        content.classList.remove('content-slide-exit');
        content.classList.remove('content-slide-active');

        // Exit Browser Fullscreen if active
        if (document.fullscreenElement) {
            document.exitFullscreen().catch(e => console.log(e));
        }

        cancelAnimationFrame(animationId);
        window.removeEventListener('resize', resize);
        
        canvas.className = '';
        content.className = 'content-wrapper';

        // Reset to body for safety
        document.body.appendChild(canvas);
    }

    // Idle Timer with Persistence
    const idleLimit = 5 * 60 * 1000; // 5 minutes

    function getLastActive() {
        return parseInt(localStorage.getItem('lastActive') || Date.now().toString());
    }

    function setLastActive() {
        localStorage.setItem('lastActive', Date.now().toString());
    }

    function checkIdle() {
        const lastActive = getLastActive();
        const diff = Date.now() - lastActive;
        if (diff >= idleLimit) {
            startScreensaver();
        }
    }

    setInterval(checkIdle, 1000);

    function resetTimer(e) {
        setLastActive();
        if (active && !ignoreInput) {
            // Only stop on Option key (Alt)
            if (e && e.type === 'keydown' && e.key === 'Alt') {
                stopScreensaver();
            }
        }
    }

    // Events to reset timer
    window.onload = resetTimer;
    document.onmousemove = resetTimer;
    document.onkeydown = resetTimer;
    document.onclick = resetTimer;
    document.onscroll = resetTimer;

    // Initialize
    if (!localStorage.getItem('lastActive')) {
        setLastActive();
    }
    checkIdle();

    // Handle resize
    window.addEventListener('resize', () => {
        if (active) resize();
    });

    // Expose globally

    
    console.log("Matrix Screensaver initialized successfully. startScreensaver is:", typeof window.startScreensaver);
    

    } catch (e) {
        console.error("CRITICAL ERROR in Matrix Screensaver IIFE:", e);
        const errDiv = document.createElement('div');
        errDiv.style.position = 'fixed';
        errDiv.style.top = '0';
        errDiv.style.left = '0';
        errDiv.style.width = '100%';
        errDiv.style.background = 'red';
        errDiv.style.color = 'white';
        errDiv.style.zIndex = '9999';
        errDiv.style.padding = '10px';
        errDiv.innerText = 'SCREENSAVER ERROR: ' + e.toString();
        document.body.appendChild(errDiv);
    }
})();

// Ensure global access


window.showMismatch = function(solverName, matrixName, cell) {
    const solver = metricsData.find(s => s.solver === solverName);
    if (!solver) return;
    const result = solver.results.find(r => r.matrix === matrixName);
    if (!result) return;

    document.getElementById('mismatchTitle').innerText = 'Mismatch: ' + solverName + ' on ' + matrixName;
    
    // Actual Output
    let actual = result.output || 'No output captured.';
    
    document.getElementById('actualOutput').innerText = actual;

    // Expected Output
    const expected = referenceOutputs[matrixName] || 'No reference output found.';
    document.getElementById('expectedOutput').innerText = expected;

    // Rerun Command
    currentRerunCommand = '# Run from SudokuSolver root\nfind . -name runMe_ai.sh | grep "/' + solverName + '/" | head -n 1 | xargs -I {} sh -c \'cd $(dirname {}) && ./runMe_ai.sh ../../Matrices/' + matrixName + '\'';
    
    const modal = document.getElementById('mismatchModal');
    modal.style.display = 'block';
    
    // Anchor to cell
    const rect = cell.getBoundingClientRect();
    const content = modal.querySelector('.modal-content');
    
    // Calculate position (right of cell, aligned top)
    const top = rect.top + window.scrollY;
    const left = rect.right + window.scrollX + 20; // 20px gap
    
    content.style.position = 'absolute';
    content.style.top = top + 'px';
    content.style.left = left + 'px';
    content.style.margin = '0';
    content.style.transform = 'none';
    content.style.width = 'auto';
    content.style.maxWidth = '600px'; // Constrain width if needed
}

window.closeMismatchModal = function() {
    document.getElementById('mismatchModal').style.display = 'none';
}

window.copyRerunCommand = function() {
    const btn = document.getElementById('copyRerunBtn');
    navigator.clipboard.writeText(currentRerunCommand).then(() => {
        const originalText = btn.innerText;
        btn.innerText = 'Copied!';
        setTimeout(() => {
            btn.innerText = originalText;
        }, 2000);
    });
}



</script>
    </body>
    </html>
        