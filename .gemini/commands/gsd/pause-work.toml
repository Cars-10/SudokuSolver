description = "Create context handoff when pausing work mid-phase"
prompt = "<objective>\nCreate `.continue-here.md` handoff file to preserve complete work state across sessions.\n\nEnables seamless resumption in fresh session with full context restoration.\n</objective>\n\n<context>\n@.planning/STATE.md\n</context>\n\n<process>\n\n<step name=\"detect\">\nFind current phase directory from most recently modified files.\n</step>\n\n<step name=\"gather\">\n**Collect complete state for handoff:**\n\n1. **Current position**: Which phase, which plan, which task\n2. **Work completed**: What got done this session\n3. **Work remaining**: What's left in current plan/phase\n4. **Decisions made**: Key decisions and rationale\n5. **Blockers/issues**: Anything stuck\n6. **Mental context**: The approach, next steps, \"vibe\"\n7. **Files modified**: What's changed but not committed\n\nAsk user for clarifications if needed.\n</step>\n\n<step name=\"write\">\n**Write handoff to `.planning/phases/XX-name/.continue-here.md`:**\n\n```markdown\n---\nphase: XX-name\ntask: 3\ntotal_tasks: 7\nstatus: in_progress\nlast_updated: [timestamp]\n---\n\n<current_state>\n[Where exactly are we? Immediate context]\n</current_state>\n\n<completed_work>\n\n- Task 1: [name] - Done\n- Task 2: [name] - Done\n- Task 3: [name] - In progress, [what's done]\n  </completed_work>\n\n<remaining_work>\n\n- Task 3: [what's left]\n- Task 4: Not started\n- Task 5: Not started\n  </remaining_work>\n\n<decisions_made>\n\n- Decided to use [X] because [reason]\n- Chose [approach] over [alternative] because [reason]\n  </decisions_made>\n\n<blockers>\n- [Blocker 1]: [status/workaround]\n</blockers>\n\n<context>\n[Mental state, what were you thinking, the plan]\n</context>\n\n<next_action>\nStart with: [specific first action when resuming]\n</next_action>\n```\n\nBe specific enough for a fresh Gemini to understand immediately.\n</step>\n\n<step name=\"commit\">\n```bash\ngit add .planning/phases/*/.continue-here.md\ngit commit -m \"wip: [phase-name] paused at task [X]/[Y]\"\n```\n</step>\n\n<step name=\"confirm\">\n```\nâœ“ Handoff created: .planning/phases/[XX-name]/.continue-here.md\n\nCurrent state:\n\n- Phase: [XX-name]\n- Task: [X] of [Y]\n- Status: [in_progress/blocked]\n- Committed as WIP\n\nTo resume: /gsd:resume-work\n\n```\n</step>\n\n</process>\n\n<success_criteria>\n- [ ] .continue-here.md created in correct phase directory\n- [ ] All sections filled with specific content\n- [ ] Committed as WIP\n- [ ] User knows location and how to resume\n</success_criteria>\n```"
