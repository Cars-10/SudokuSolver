description = "Create roadmap with phases for the project"
prompt = "<objective>\nCreate project roadmap with phase breakdown.\n\nRoadmaps define what work happens in what order. Run after /gsd:new-project.\n</objective>\n\n<execution_context>\n@./.gemini/get-shit-done/workflows/create-roadmap.md\n@./.gemini/get-shit-done/templates/roadmap.md\n@./.gemini/get-shit-done/templates/state.md\n</execution_context>\n\n<context>\n@.planning/PROJECT.md\n@.planning/config.json\n</context>\n\n<process>\n\n<step name=\"validate\">\n```bash\n# Verify project exists\n[ -f .planning/PROJECT.md ] || { echo \"ERROR: No PROJECT.md found. Run /gsd:new-project first.\"; exit 1; }\n```\n</step>\n\n<step name=\"check_existing\">\nCheck if roadmap already exists:\n\n```bash\n[ -f .planning/ROADMAP.md ] && echo \"ROADMAP_EXISTS\" || echo \"NO_ROADMAP\"\n```\n\n**If ROADMAP_EXISTS:**\nUse AskUserQuestion:\n- header: \"Roadmap exists\"\n- question: \"A roadmap already exists. What would you like to do?\"\n- options:\n  - \"View existing\" - Show current roadmap\n  - \"Replace\" - Create new roadmap (will overwrite)\n  - \"Cancel\" - Keep existing roadmap\n\nIf \"View existing\": `cat .planning/ROADMAP.md` and exit\nIf \"Cancel\": Exit\nIf \"Replace\": Continue with workflow\n</step>\n\n<step name=\"create_roadmap\">\nFollow the create-roadmap.md workflow starting from detect_domain step.\n\nThe workflow handles:\n- Domain expertise detection\n- Phase identification\n- Research flags for each phase\n- Confirmation gates (respecting config mode)\n- ROADMAP.md creation\n- STATE.md initialization\n- Phase directory creation\n- Git commit\n</step>\n\n<step name=\"done\">\n```\nRoadmap created:\n- Roadmap: .planning/ROADMAP.md\n- State: .planning/STATE.md\n- [N] phases defined\n\n---\n\n## ▶ Next Up\n\n**Phase 1: [Name]** — [Goal from ROADMAP.md]\n\n`/gsd:plan-phase 1`\n\n<sub>`/clear` first → fresh context window</sub>\n\n---\n\n**Also available:**\n- `/gsd:discuss-phase 1` — gather context first\n- `/gsd:research-phase 1` — investigate unknowns\n- Review roadmap\n\n---\n```\n</step>\n\n</process>\n\n<output>\n- `.planning/ROADMAP.md`\n- `.planning/STATE.md`\n- `.planning/phases/XX-name/` directories\n</output>\n\n<success_criteria>\n- [ ] PROJECT.md validated\n- [ ] ROADMAP.md created with phases\n- [ ] STATE.md initialized\n- [ ] Phase directories created\n- [ ] Changes committed\n</success_criteria>"
