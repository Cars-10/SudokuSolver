description = "Resume an interrupted subagent execution"
prompt = "<objective>\nResume an interrupted subagent execution using the Task tool's resume parameter.\n\nWhen a session ends mid-execution, subagents may be left in an incomplete state. This command allows users to continue that work without starting over.\n\nUses the agent ID tracking infrastructure from execute-plan to identify and resume agents.\n</objective>\n\n<execution_context>\n@./.gemini/get-shit-done/workflows/resume-task.md\n</execution_context>\n\n<context>\nAgent ID: $ARGUMENTS (optional - defaults to most recent)\n\n**Load project state:**\n@.planning/STATE.md\n\n**Load agent tracking:**\n@.planning/current-agent-id.txt\n@.planning/agent-history.json\n</context>\n\n<process>\n1. Check .planning/ directory exists (error if not)\n2. Parse agent ID from arguments or current-agent-id.txt\n3. Validate agent exists in history and is resumable\n4. Check for file conflicts since spawn\n5. Follow resume-task.md workflow:\n   - Update agent status to \"interrupted\"\n   - Resume via Task tool resume parameter\n   - Update history on completion\n   - Clear current-agent-id.txt\n</process>\n\n<usage>\n**Resume most recent interrupted agent:**\n```\n/gsd:resume-task\n```\n\n**Resume specific agent by ID:**\n```\n/gsd:resume-task agent_01HXYZ123\n```\n\n**Find available agents to resume:**\nCheck `.planning/agent-history.json` for entries with status \"spawned\" or \"interrupted\".\n</usage>\n\n<error_handling>\n**No agent to resume:**\n- current-agent-id.txt empty or missing\n- Solution: Run /gsd:progress to check project status\n\n**Agent already completed:**\n- Agent finished successfully, nothing to resume\n- Solution: Continue with next plan\n\n**Agent not found:**\n- Provided ID not in history\n- Solution: Check agent-history.json for valid IDs\n\n**Resume failed:**\n- Agent context expired or invalidated\n- Solution: Start fresh with /gsd:execute-plan\n</error_handling>\n\n<success_criteria>\n- [ ] Agent resumed via Task tool resume parameter\n- [ ] Agent-history.json updated with completion\n- [ ] current-agent-id.txt cleared\n- [ ] User informed of result\n</success_criteria>"
