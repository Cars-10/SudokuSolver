# Go Sudoku Solver

## Validation Status

✅ **FULLY VALIDATED** - 2025-12-18

| Matrix | Expected Iterations | Actual | Status |
|--------|--------------------:|-------:|:------:|
| 1      | 656                 | 656    | ✓ PASS |
| 2      | 439,269             | 439,269| ✓ PASS |
| 3      | 98,847              | 98,847 | ✓ PASS |
| 4      | 9,085               | 9,085  | ✓ PASS |
| 5      | 445,778             | 445,778| ✓ PASS |

**Format Validation:** ✅ All matrices pass (output format matches C reference exactly)

## Algorithm

This is an exact port of the C reference implementation. The algorithm is pure brute-force recursive backtracking:

- **Search order:** Row-major (top-to-bottom, left-to-right)
- **Candidate values:** 1-9 in ascending order
- **Iteration counting:** Every value placement attempt is counted
- **Validation:** Row, column, and 3x3 box constraints checked

The iteration counts are the algorithm fingerprint - they prove exact algorithmic match with the C reference.

## Compilation

### Default (used in benchmarks)
```bash
go build -o Sudoku Sudoku.go
```

### Compiler Variants

| Variant  | Flags              | Description                          |
|----------|-------------------|--------------------------------------|
| **default**| (none)           | **Standard build (default)**         |
| stripped | `-ldflags=-s -w`   | Strip debug info (smaller binary)    |
| race     | `-race`            | Enable race detector (debugging)     |

**Usage:**
```bash
# Default
./runMe.sh

# Custom variant
VARIANT=stripped ./runMe.sh
```

## Execution

### Run with modular script (recommended)
```bash
cd Algorithms/BruteForce/Go
./runMe.sh /app/Matrices/1.matrix
```

### Run all matrices
```bash
./runMe.sh /app/Matrices/{1,2,3,4,5}.matrix
```

### Direct execution
```bash
go build -o Sudoku Sudoku.go
./Sudoku /app/Matrices/1.matrix
```

## Performance

Validated performance on Docker (ubuntu:24.04, go build):

| Matrix | Iterations | Time (s) | Memory (KB) |
|--------|----------:|----------:|------------:|
| 1      | 656        | ~0.010    | ~3,808      |
| 2      | 439,269    | ~0.010    | ~3,868      |
| 3      | 98,847     | ~0.005    | ~3,868      |
| 4      | 9,085      | ~0.005    | ~3,864      |
| 5      | 445,778    | ~0.010    | ~3,880      |

**Notes:**
- Times vary by CPU - iteration counts are canonical
- All matrices complete well under 5-minute timeout
- Memory usage higher than C/C++ due to Go runtime
- No GC pressure (no heap allocations in hot path)

## Files

| File         | Purpose                                    |
|--------------|--------------------------------------------|
| Sudoku.go    | Main solver implementation                 |
| runMe.sh     | Modular benchmark script (uses common.sh)  |
| README.md    | This file (overview and usage)             |
| metrics.json | Benchmark results (generated by runMe.sh)  |
| go.mod       | Go module definition                       |

## Code Structure

Key functions in Sudoku.go:

```go
func isPossible(y, x, val int) bool  // Check if placement is valid
func solve() int                      // Recursive brute-force solver
func readMatrixFile(filename string)  // Load puzzle from .matrix file
func printMatrix()                    // Display current puzzle state
```

## Output Format

The Go solver produces output matching the C reference exactly:

```
../Matrices/1.matrix
9 2 0 0 0 0 5 8 4
... (initial puzzle rows as read)

Puzzle:
9 2 0 0 0 0 5 8 4
... (initial puzzle with header)

Puzzle:
9 2 1 6 3 7 5 8 4
... (solved puzzle)

Solved in Iterations=656

Seconds to process 0.004
```

## Go-Specific Notes

- **No optimization flags:** Go compiler doesn't have `-O` flags like C/C++
- **Runtime overhead:** Go includes garbage collector and runtime, increasing base memory
- **Integer types:** Uses `uint64` for iteration count to match C's behavior
- **Floor division:** Uses `math.Floor` for 3x3 box calculation (matches C integer division)

## Validation Commands

```bash
# Run and validate in Docker
cd Algorithms/BruteForce/Go
./runMe.sh /app/Matrices/{1,2,3,4,5}.matrix
```
