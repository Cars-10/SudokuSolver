---
phase: 05-jvm-modern-languages
plan: 01
type: execute
---

<objective>
Implement PHP Sudoku solver with exact algorithm match and C reference output format.

Purpose: Add PHP to the validated benchmark suite (interpreted language similar to Python/Ruby/Perl)
Output: Working PHP solver passing all 5 matrix validations with exact iteration counts
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**Prior phases establishing pattern:**
@.planning/phases/03-scripting-languages/03-01-SUMMARY.md

**Reference implementation:**
@Languages/C/Sudoku.c
@Languages/Python/Sudoku.py

**Existing PHP solver (needs output format fixes):**
@Languages/PHP/Sudoku.php

**Reference iteration counts:**
- Matrix 1: 656
- Matrix 2: 439,269
- Matrix 3: 98,847
- Matrix 4: 9,085
- Matrix 5: 445,778

**Required output format (from C reference):**
```
../../Matrices/1.matrix
9 2 0 0 0 0 5 8 4
... (raw matrix lines as read)

Puzzle:
9 2 0 0 0 0 5 8 4
... (initial puzzle)

Puzzle:
9 2 1 6 3 7 5 8 4
... (solved puzzle)

Solved in Iterations=656

Seconds to process 0.001
```

**Current PHP issues:**
- Uses "Processing {filename}" instead of just printing path
- Missing raw matrix echo before "Puzzle:" header
- Missing "Seconds to process" line
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix PHP solver output format</name>
  <files>Languages/PHP/Sudoku.php</files>
  <action>
    Modify Sudoku.php to match C reference output format exactly:

    1. Print matrix path first (just the path, no "Processing" prefix)
    2. Echo each row as it's read (raw values with trailing space)
    3. Print blank line after raw matrix
    4. Print "Puzzle:" header then initial state
    5. Print blank line
    6. After solving, print "Puzzle:" header then solved state
    7. Print blank line
    8. Print "Solved in Iterations={count}" (no space before =)
    9. Print blank line
    10. Print "Seconds to process {time}" with 3 decimal places

    Use microtime(true) for timing. Format: %.3f seconds.
    Keep the algorithm exactly as-is (it appears correct).
  </action>
  <verify>php Sudoku.php ../../Matrices/1.matrix | diff - &lt;(cd ../C && ./Sudoku ../../Matrices/1.matrix 2>/dev/null) || echo "Output differs"</verify>
  <done>PHP output format matches C reference exactly (path, raw rows, Puzzle headers, iteration line, timing)</done>
</task>

<task type="auto">
  <name>Task 2: Create PHP runMe.sh and validate</name>
  <files>Languages/PHP/runMe.sh, Languages/PHP/README.md, Languages/PHP/metrics.json</files>
  <action>
    1. Create runMe.sh following common.sh pattern (like Python/Ruby/Perl):
       - Set LANGUAGE="PHP"
       - Set SOLVER_BINARY="php Sudoku.php"
       - Override run_matrix() for interpreted execution
       - Source ../common.sh
       - Call main "$@"

    2. Run all 5 matrices and capture metrics:
       ./runMe.sh ../../Matrices/{1,2,3,4,5}.matrix

    3. Validate iteration counts match reference exactly:
       - Matrix 1: 656
       - Matrix 2: 439,269
       - Matrix 3: 98,847
       - Matrix 4: 9,085
       - Matrix 5: 445,778

    4. Create README.md documenting:
       - Validation status table
       - Algorithm description
       - Requirements (PHP 7.4+)
       - Execution instructions
       - Performance notes
  </action>
  <verify>
    1. grep "iterations.*656" Languages/PHP/metrics.json
    2. grep "iterations.*439269" Languages/PHP/metrics.json
    3. All 5 matrices show "success" status in metrics.json
  </verify>
  <done>PHP fully validated with all 5 matrices passing iteration count verification, README.md complete</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] PHP output matches C reference format exactly
- [ ] All 5 matrices pass iteration validation (656, 439269, 98847, 9085, 445778)
- [ ] metrics.json populated with all results
- [ ] README.md documents validation status
- [ ] runMe.sh uses common.sh pattern
</verification>

<success_criteria>
- PHP solver produces exact output format matching C
- All iteration counts match C reference
- No errors in execution
- Documented and ready for benchmark inclusion
</success_criteria>

<output>
After completion, create `.planning/phases/05-jvm-modern-languages/05-01-SUMMARY.md`
</output>
