---
phase: 05-jvm-modern-languages
plan: 05
type: execute
---

<objective>
Implement C# Sudoku solver with exact algorithm match and C reference output format.

Purpose: Add C# to the validated benchmark suite (.NET runtime)
Output: Working C# solver passing all 5 matrix validations with exact iteration counts
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**Reference implementation:**
@Languages/C/Sudoku.c
@Languages/Java/Sudoku.java

**Existing C# (no solver - only metadata.json):**
Languages/C_Sharp/ has only metadata.json - needs full implementation

**Reference iteration counts:**
- Matrix 1: 656
- Matrix 2: 439,269
- Matrix 3: 98,847
- Matrix 4: 9,085
- Matrix 5: 445,778

**C# specific notes from ROADMAP:**
- Research topic: ".NET SDK setup in ubuntu:24.04 Docker (dotnet command, runtime vs SDK)"
- Use dotnet CLI for compilation/execution
- Can compile to native with dotnet publish or run with dotnet run
- Directory should be named C_Sharp (not C#) due to filesystem constraints
</context>

<tasks>

<task type="auto">
  <name>Task 1: Implement C# solver</name>
  <files>Languages/C_Sharp/Sudoku.cs, Languages/C_Sharp/Sudoku.csproj</files>
  <action>
    Create complete C# Sudoku solver matching C reference algorithm EXACTLY:

    **Create Sudoku.csproj:**
    ```xml
    <Project Sdk="Microsoft.NET.Sdk">
      <PropertyGroup>
        <OutputType>Exe</OutputType>
        <TargetFramework>net8.0</TargetFramework>
        <ImplicitUsings>enable</ImplicitUsings>
        <Nullable>enable</Nullable>
      </PropertyGroup>
    </Project>
    ```

    **Create Sudoku.cs with algorithm (MUST match C):**
    - Search order: Row-major (top-to-bottom, left-to-right)
    - Candidate values: 1-9 in ascending order
    - Iteration counting: Every value placement attempt increments count

    **Structure:**
    ```csharp
    class Sudoku
    {
        static int[,] puzzle = new int[9, 9];
        static long count = 0;

        static bool IsPossible(int y, int x, int value) { ... }
        static bool Solve() { ... }  // Recursive, row-major search
        static void ReadMatrixFile(string filename) { ... }
        static void PrintPuzzle() { ... }
        static void Main(string[] args) { ... }
    }
    ```

    **Output format (EXACT match to C):**
    1. Print path
    2. Echo raw matrix rows as read (space after each value)
    3. Blank line
    4. "Puzzle:" + initial state
    5. Blank line
    6. "Puzzle:" + solved state
    7. Blank line
    8. "Solved in Iterations={count}"
    9. Blank line
    10. "Seconds to process {time:F3}"

    Use Stopwatch for timing. Format time with 3 decimal places.
  </action>
  <verify>cd Languages/C_Sharp && dotnet build && dotnet run -- ../../Matrices/1.matrix</verify>
  <done>C# solver compiles and produces output with correct iteration count (656 for Matrix 1)</done>
</task>

<task type="auto">
  <name>Task 2: Create C# runMe.sh and validate</name>
  <files>Languages/C_Sharp/runMe.sh, Languages/C_Sharp/README.md, Languages/C_Sharp/metrics.json</files>
  <action>
    1. Create runMe.sh following common.sh pattern:
       - Set LANGUAGE="C#"
       - Add compile() using dotnet build
       - Set SOLVER_BINARY to "dotnet run --"
       - Source ../common.sh
       - Override run_matrix() for dotnet execution
       - Call main "$@"

    2. Build and run all 5 matrices:
       ./runMe.sh ../../Matrices/{1,2,3,4,5}.matrix

    3. Validate iteration counts match reference exactly

    4. Create README.md documenting:
       - Validation status table
       - Algorithm description
       - Requirements (.NET 8.0 SDK)
       - Build and execution instructions
       - Performance notes (JIT compilation, first-run warmup)
  </action>
  <verify>
    1. grep "iterations.*656" Languages/C_Sharp/metrics.json
    2. grep "iterations.*439269" Languages/C_Sharp/metrics.json
    3. All 5 matrices show "success" status
  </verify>
  <done>C# fully validated with all 5 matrices passing, README.md complete</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] C# project builds without errors (dotnet build)
- [ ] Output matches C reference format exactly
- [ ] All 5 matrices pass iteration validation
- [ ] metrics.json populated with all results
- [ ] README.md documents validation status
</verification>

<success_criteria>
- C# solver produces exact output format matching C
- All iteration counts match C reference
- No build errors
- Documented and ready for benchmark inclusion
</success_criteria>

<output>
After completion, create `.planning/phases/05-jvm-modern-languages/05-05-SUMMARY.md`
</output>
