---
phase: 05.2-tier3-languages
plan: 05
type: execute
---

<objective>
Implement Zig and COBOL Sudoku solvers with exact algorithm match and C reference output format.

Purpose: Add modern systems and legacy business languages to the Tier 3 benchmark suite
Output: Working Zig and COBOL solvers passing all 5 matrix validations with exact iteration counts
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**Reference implementation:**
@Languages/C/Sudoku.c

**Existing code directories:**
@Languages/Zig/
@Languages/Cobol/

**Reference iteration counts:**
- Matrix 1: 656
- Matrix 2: 439,269
- Matrix 3: 98,847
- Matrix 4: 9,085
- Matrix 5: 445,778

**Language notes:**
- Zig: Modern systems language, no hidden control flow, C interop, compile-time features
- COBOL: Legacy business language, verbose syntax, fixed-format columns, PERFORM loops
- Zig should be very fast (comparable to C), COBOL is compiled but verbose
</context>

<tasks>

<task type="auto">
  <name>Task 1: Implement Zig solver</name>
  <files>Languages/Zig/Sudoku.zig, Languages/Zig/runMe.sh, Languages/Zig/README.md</files>
  <action>
    1. Create Sudoku.zig:
       - const std = @import("std");
       - var puzzle: [9][9]u8 = undefined;
       - var count: usize = 0;
       - fn readMatrix(filename: []const u8) !void
       - fn printPuzzle() void
       - fn isValid(row: usize, col: usize, val: u8) bool
       - fn solve() bool {
           for (1..10) |val| {
               count += 1;
               if (isValid(row, col, @intCast(val))) { ... }
           }
       }
       - Print in exact C format

    2. Zig uses 0-based indexing

    3. Create runMe.sh:
       - LANGUAGE="Zig"
       - COMPILE_CMD="zig build-exe -O ReleaseFast Sudoku.zig"
       - SOLVER_BINARY="./Sudoku"
       - Source ../common.sh

    4. Create README.md
  </action>
  <verify>
    docker exec sudokusolver-app-1 bash -c "cd /app/Languages/Zig && zig build-exe -O ReleaseFast Sudoku.zig 2>/dev/null && ./Sudoku ../../Matrices/1.matrix" | grep "Iterations=656"
  </verify>
  <done>Zig solver matches C reference output format and iteration count (656)</done>
</task>

<task type="auto">
  <name>Task 2: Validate Zig on all matrices</name>
  <files>Languages/Zig/metrics.json</files>
  <action>
    1. Run Zig solver on all 5 matrices in Docker
    2. Verify iteration counts match exactly
    3. Update README.md with validation results
  </action>
  <verify>
    docker exec sudokusolver-app-1 bash -c "cat /app/Languages/Zig/metrics.json" | grep -o '"iterations": [0-9]*' | head -5
  </verify>
  <done>Zig validated on all 5 matrices</done>
</task>

<task type="auto">
  <name>Task 3: Implement COBOL solver</name>
  <files>Languages/Cobol/Sudoku.cob, Languages/Cobol/runMe.sh, Languages/Cobol/README.md</files>
  <action>
    1. Create Sudoku.cob (GnuCOBOL, free format):
       - IDENTIFICATION DIVISION.
       - PROGRAM-ID. SUDOKU.
       - DATA DIVISION.
       - WORKING-STORAGE SECTION.
       - 01 PUZZLE.
           05 PUZZLE-ROW OCCURS 9 TIMES.
               10 PUZZLE-CELL OCCURS 9 TIMES PIC 9.
       - 01 ITERATION-COUNT PIC 9(9) VALUE 0.
       - PROCEDURE DIVISION.
       - MAIN-LOGIC.
           PERFORM READ-MATRIX
           PERFORM PRINT-PUZZLE
           PERFORM SOLVE
           PERFORM PRINT-PUZZLE
           DISPLAY "Solved in Iterations=" ITERATION-COUNT
           STOP RUN.
       - SOLVE uses nested PERFORM loops
       - TRY-VALUE from 1 to 9:
           ADD 1 TO ITERATION-COUNT
           PERFORM IS-VALID
           IF VALID-FLAG = 1 ...

    2. COBOL typically uses 1-based indexing

    3. Create runMe.sh:
       - LANGUAGE="COBOL"
       - COMPILE_CMD="cobc -x -O2 -o Sudoku Sudoku.cob"
       - SOLVER_BINARY="./Sudoku"
       - Source ../common.sh

    4. Create README.md
  </action>
  <verify>
    docker exec sudokusolver-app-1 bash -c "cd /app/Languages/Cobol && cobc -x -O2 -o Sudoku Sudoku.cob 2>/dev/null && ./Sudoku ../../Matrices/1.matrix" | grep "Iterations=656"
  </verify>
  <done>COBOL solver matches C reference for Matrix 1</done>
</task>

<task type="auto">
  <name>Task 4: Validate COBOL on all matrices</name>
  <files>Languages/Cobol/metrics.json</files>
  <action>
    1. Run COBOL solver on all 5 matrices
    2. Verify iteration counts match exactly
    3. Update README.md with validation results
  </action>
  <verify>
    docker exec sudokusolver-app-1 bash -c "cat /app/Languages/Cobol/metrics.json" | grep -o '"iterations": [0-9]*' | head -5
  </verify>
  <done>COBOL validated on all 5 matrices</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Zig solver matches C output format and all 5 iteration counts
- [ ] COBOL solver matches C output format and all 5 iteration counts
- [ ] Both metrics.json files populated
- [ ] Both README.md files document validation status
- [ ] Both runMe.sh scripts follow common.sh pattern
- [ ] Row-major iteration order verified in both languages
- [ ] Both tested in Docker container
</verification>

<success_criteria>
- Zig and COBOL fully validated on all 5 matrices
- Zig demonstrates modern systems language characteristics
- COBOL demonstrates legacy business language feasibility
- Both use common.sh benchmark pattern
- Documentation complete
</success_criteria>

<output>
After completion, create `.planning/phases/05.2-tier3-languages/05.2-05-SUMMARY.md`
</output>
