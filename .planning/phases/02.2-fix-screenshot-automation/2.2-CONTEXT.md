# Phase 2.2: Fix Screenshot Automation - Context

**Gathered:** 2025-12-18
**Status:** Ready for planning

<vision>
## How This Should Work

Screenshot capture should be completely invisible during normal operation. After every report generation, a screenshot is automatically captured in the background without any output or indication to the user. It should "just work" silently.

The only time the user should see any output is if something goes wrong - an error message explaining what failed.

</vision>

<essential>
## What Must Be Nailed

- **Reliability** - Must capture successfully every single time, no exceptions. If it takes a bit longer to be reliable, that's acceptable.
- **Silent operation** - No console output during successful captures. The capture happens in the background without interrupting workflow.

</essential>

<boundaries>
## What's Out of Scope

- Fancy features like thumbnail generation or screenshot history browsing
- Docker integration for screenshots (fix locally first)
- Any new screenshot-related features beyond fixing the current automation

</boundaries>

<specifics>
## Specific Ideas

- Use different Puppeteer wait strategy (domcontentloaded or networkidle0 instead of load event)
- Increase timeout if needed for reliability
- Current issue: Navigation timeout of 30000ms when loading large HTML file

</specifics>

<notes>
## Additional Context

The screenshot automation infrastructure already exists in ScreenshotUtils.ts and is called from generate_report_only.ts. The issue is a Puppeteer navigation timeout when loading the HTML file via file:// protocol. Chrome for Puppeteer was just installed.

The fix is primarily a configuration change - adjusting the wait strategy and potentially the timeout value.

</notes>

---

*Phase: 02.2-fix-screenshot-automation*
*Context gathered: 2025-12-18*
