---
phase: 18-validation-and-integration
plan: 02
type: execute
wave: 1
depends_on: []
files_modified: [.planning/phases/18-validation-and-integration/CP-VALIDATION.md]
autonomous: true
---

<objective>
Validate all Constraint Propagation (CP) algorithm implementations, categorizing them by correctness and identifying issues.

Purpose: Verify CP implementations produce correct iteration count (67 for Matrix 1), and comprehensively document the current state of all 47 implementations.
Output: CP validation report with detailed breakdown of working, incorrect, and missing implementations.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

Reference iteration count for CP Algorithm: **67 iterations** for Matrix 1 (from C reference implementation)

All CP implementations are located in `Algorithms/CP/{Language}/` with metrics files at `Algorithms/CP/{Language}/metrics.json`.

Known issues from analysis:
- 35 implementations with correct count (67)
- 7 implementations with wrong counts (Ada, CommonLisp, EmacsLisp, Haskell, Racket, Scheme, SML)
- 5 implementations without metrics (Clojure, Elixir, Erlang, PowerShell, R)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create CP validation script</name>
  <files>.planning/phases/18-validation-and-integration/validate_cp.sh</files>
  <action>Create bash script that:
  1. Scans all Algorithms/CP/*/ directories
  2. For each directory:
     - Check if metrics.json exists
     - If exists: extract iteration count for Matrix 1
     - Compare to reference (67)
     - Collect timing and memory data
  3. Categorize results:
     - CORRECT: iterations=67
     - WRONG: iterations!=67 (list actual count)
     - NO_METRICS: metrics.json missing or unreadable
     - MALFORMED: metrics exist but iteration count unparseable
  4. Output structured report with language, status, iterations, time, memory

  Format: Tab-separated values for programmatic processing
  </action>
  <verify>Script runs without errors and processes all 47 CP directories</verify>
  <done>Validation script exists and categorizes all 47 CP implementations</done>
</task>

<task type="auto">
  <name>Task 2: Execute CP validation and generate report</name>
  <files>.planning/phases/18-validation-and-integration/CP-VALIDATION.md</files>
  <action>Run validation script and create comprehensive Markdown report:

  Report sections:
  1. **Summary Statistics**
     - Total implementations: 47
     - Correct (67 iterations): [count]
     - Wrong iteration count: [count]
     - Missing metrics: [count]
     - Malformed data: [count]
     - Success rate: [percentage]

  2. **Reference Values**
     - Expected iteration count: 67
     - C reference implementation timing

  3. **Validation Results**
     Table with columns: Language | Status | Iterations | Time | Memory
     Sort by status (CORRECT first, then WRONG, then NO_METRICS)

  4. **Issues Requiring Attention**
     Detailed list of implementations with wrong counts or missing metrics:
     - Language name
     - Issue description (wrong count: actual vs expected, or missing metrics)
     - File path for investigation

  5. **Working Implementations**
     List of all 35 languages with correct iteration counts

  6. **Conclusion**
     Overall assessment and readiness for Plan 18-03 (fixes)

  Include timestamp, phase reference, and validation script version.
  </action>
  <verify>CP-VALIDATION.md exists with complete categorization of all 47 implementations</verify>
  <done>Comprehensive CP validation report generated with detailed issue breakdown</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Validation script exists and is executable
- [ ] Script categorizes all 47 CP implementations
- [ ] CP-VALIDATION.md report generated with all sections
- [ ] Report lists specific languages needing fixes (expect 12 total)
- [ ] Working implementations documented (expect 35 languages)
</verification>

<success_criteria>

- CP validation script created and functional
- All 47 CP implementations validated and categorized
- Comprehensive validation report with issue breakdown
- Clear list of 12 implementations requiring fixes in Plan 18-03
</success_criteria>

<output>
After completion, create `.planning/phases/18-validation-and-integration/18-02-SUMMARY.md`
</output>
